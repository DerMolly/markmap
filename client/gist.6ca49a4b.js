import{S as t,i,s as o,e as n,a as e,t as a,f as s,g as r,b as h,h as c,d as l,k as d,l as f,m as u,v as w,A as v,G as m,o as p,D as g,H as k,I as E,J as x}from"./client.41fdd7bd.js";function B(t){let i,o,w,v,m,p;return{c(){i=n("div"),o=n("img"),v=e(),m=n("a"),p=a("markmap"),this.h()},l(t){i=s(t,"DIV",{});var n=r(i);o=s(n,"IMG",{class:!0,alt:!0,src:!0}),v=h(n),m=s(n,"A",{class:!0,href:!0});var e=r(m);p=c(e,"markmap"),e.forEach(l),n.forEach(l),this.h()},h(){d(o,"class","w-4 h-4"),d(o,"alt","markmap"),o.src!==(w="/favicon.png")&&d(o,"src","/favicon.png"),d(m,"class","inline-block text-xs no-underline pr-1"),d(m,"href","/")},m(t,n){f(t,i,n),u(i,o),u(i,v),u(i,m),u(m,p)},d(t){t&&l(i)}}}function I(t){let i,o,e,a,h;return{c(){i=n("div"),o=w("svg"),e=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=r(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);e=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(e).forEach(l),a.forEach(l),n.forEach(l),this.h()},h(){d(e,"fill","none"),d(e,"stroke-width","2"),d(e,"stroke","currentColor"),d(e,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Full page view")},m(n,s){f(n,i,s),u(i,o),u(o,e),a||(h=v(o,"click",t[5]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function M(t){let i,o,e,a,h;return{c(){i=n("div"),o=w("svg"),e=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=r(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);e=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(e).forEach(l),a.forEach(l),n.forEach(l),this.h()},h(){d(e,"fill","none"),d(e,"stroke-width","2"),d(e,"stroke","currentColor"),d(e,"d","M5 6 v8 h10 v-8 h-10 z m5 0 v8"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Open in REPL")},m(n,s){f(n,i,s),u(i,o),u(o,e),a||(h=v(o,"click",t[6]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function y(t){let i,o,a,c,k,E,x,y,b,Z,D,P,V,F,R,C,O,j=t[0]&&B();function L(t,i){return t[1]?M:I}let A=L(t),$=A(t);return{c(){i=n("div"),j&&j.c(),o=e(),a=n("div"),c=w("svg"),k=w("path"),E=e(),x=n("div"),y=w("svg"),b=w("path"),Z=e(),D=n("div"),P=w("svg"),V=w("path"),F=e(),$.c(),this.h()},l(t){i=s(t,"DIV",{class:!0});var n=r(i);j&&j.l(n),o=h(n),a=s(n,"DIV",{title:!0});var e=r(a);c=s(e,"svg",{width:!0,height:!0,viewBox:!0},1);var d=r(c);k=s(d,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(k).forEach(l),d.forEach(l),e.forEach(l),E=h(n),x=s(n,"DIV",{title:!0});var f=r(x);y=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var u=r(y);b=s(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(b).forEach(l),u.forEach(l),f.forEach(l),Z=h(n),D=s(n,"DIV",{title:!0});var w=r(D);P=s(w,"svg",{width:!0,height:!0,viewBox:!0},1);var v=r(P);V=s(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(V).forEach(l),v.forEach(l),w.forEach(l),F=h(n),$.l(n),n.forEach(l),this.h()},h(){d(k,"fill","none"),d(k,"stroke-width","2"),d(k,"stroke","currentColor"),d(k,"d","M10 6 v8 M6 10 h8"),d(c,"width","20"),d(c,"height","20"),d(c,"viewBox","0 0 20 20"),d(a,"title","Zoom in"),d(b,"fill","none"),d(b,"stroke-width","2"),d(b,"stroke","currentColor"),d(b,"d","M6 10 h8"),d(y,"width","20"),d(y,"height","20"),d(y,"viewBox","0 0 20 20"),d(x,"title","Zoom out"),d(V,"fill","none"),d(V,"stroke-width","2"),d(V,"stroke","currentColor"),d(V,"d","M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),d(P,"width","20"),d(P,"height","20"),d(P,"viewBox","0 0 20 20"),d(D,"title","Fit window size"),d(i,"class",R="toolbar "+t[7].class)},m(n,e){f(n,i,e),j&&j.m(i,null),u(i,o),u(i,a),u(a,c),u(c,k),u(i,E),u(i,x),u(x,y),u(y,b),u(i,Z),u(i,D),u(D,P),u(P,V),u(i,F),$.m(i,null),C||(O=[v(c,"click",(function(){m(t[2])&&t[2].apply(this,arguments)})),v(y,"click",(function(){m(t[3])&&t[3].apply(this,arguments)})),v(P,"click",(function(){m(t[4])&&t[4].apply(this,arguments)}))],C=!0)},p(n,[e]){(t=n)[0]?j||(j=B(),j.c(),j.m(i,o)):j&&(j.d(1),j=null),A===(A=L(t))&&$?$.p(t,e):($.d(1),$=A(t),$&&($.c(),$.m(i,null))),128&e&&R!==(R="toolbar "+t[7].class)&&d(i,"class",R)},i:p,o:p,d(t){t&&l(i),j&&j.d(),$.d(),C=!1,g(O)}}}function b(t,i,o){let{showBrand:n=!1}=i,{isFull:e=!1}=i,{onZoomIn:a}=i,{onZoomOut:s}=i,{onReset:r}=i;return t.$$set=t=>{o(7,i=k(k({},i),E(t))),"showBrand"in t&&o(0,n=t.showBrand),"isFull"in t&&o(1,e=t.isFull),"onZoomIn"in t&&o(2,a=t.onZoomIn),"onZoomOut"in t&&o(3,s=t.onZoomOut),"onReset"in t&&o(4,r=t.onReset)},i=E(i),[n,e,a,s,r,function(){x("/full"+window.location.hash)},function(){x("/repl"+window.location.hash)},i]}class Z extends t{constructor(t){super(),i(this,t,b,y,o,{showBrand:0,isFull:1,onZoomIn:2,onZoomOut:3,onReset:4})}}const D=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];function P(){}async function V(t){const[,i,o,n]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!o)return;const e=n||"markmap.md";return"gitee"===i?async function(t,i){const o=await fetch("https://gitee.com/api/v5/gists/"+t),n=(await o.json()).files[i];if(!n)return;let{content:e}=n;if(n.truncated){const t=await fetch(n.raw_url);e=await t.text()}return e}(o,e):async function(t,i){const o=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await o.json()).files[i];if(!n)return;let{content:e}=n;if(n.truncated){const t=await fetch(n.raw_url);e=await t.text()}return e}(o,e)}function F(t){let i;return async function(){const o={};i=o;let n=new URLSearchParams(window.location.hash.slice(1)).get("gist");n=n&&n.split(",");const e=await async function(t){return Promise.any(t.map(V))}(n||D);null!=e&&o===i&&t(e)}}function R(t){const i=F(t);return window.addEventListener("hashchange",i),i(t),()=>window.removeEventListener("hashchange",i)}Promise.any||(Promise.any=t=>new Promise(((i,o)=>{Promise.all(t.map((t=>Promise.resolve(t).then(i,P)))).then(o)})));export{Z as T,R as s};
