import{S as t,i as a,s as e,e as n,f as s,g as o,d as i,k as l,l as r,A as c,a as h,t as d,c as f,v as m,q as u,b as p,h as v,j as w,z as g,m as k,n as x,E as b,C as E,p as y,r as D,u as I,D as M,F as S,G as V,w as J,x as j,H as C,y as T,I as A,J as $}from"./client.01af54b2.js";import{c as Z,u as B,M as P,t as R,a as G}from"./markmap.16a7df6b.js";var L=Z((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const n=[...(0,B.persistJS)(e),...(0,B.persistJS)([{type:"iife",data:{fn:(t,a,e,n)=>{const{Markmap:s,loadPlugins:o}=window.markmap;(a?a(o,e,n):Promise.resolve()).then(()=>{window.mm=s.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const e=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),n=[t];return e.length&&n.push((t,a,e)=>t(a,e),e,a),n}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:U}=C;function q(t){let a,e,h;return{c(){a=n("textarea"),this.h()},l(t){a=s(t,"TEXTAREA",{class:!0,value:!0}),o(a).forEach(i),this.h()},h(){l(a,"class","w-full h-full p-1"),a.value=t[3]},m(n,s){r(n,a,s),e||(h=c(a,"input",t[11]),e=!0)},p(t,e){8&e&&(a.value=t[3])},d(t){t&&i(a),e=!1,h()}}}function F(t){let a,e,S,V,J,j,C,Z,B,R,G,L,F,H,O,z,_,X,Y,K,Q,W,tt,at,et,nt,st,ot,it,lt,rt,ct,ht,dt,ft,mt,ut,pt,vt,wt,gt,kt,xt,bt,Et=!t[2]&&q(t);function yt(a){t[13].call(null,a)}function Dt(a){t[14].call(null,a)}function It(a){t[15].call(null,a)}function Mt(a){t[16].call(null,a)}let St={content:t[3]};return void 0!==t[1]&&(St.el=t[1]),void 0!==t[4]&&(St.onReset=t[4]),void 0!==t[5]&&(St.onZoomIn=t[5]),void 0!==t[6]&&(St.onZoomOut=t[6]),L=new P({props:St}),T.push(()=>A(L,"el",yt)),T.push(()=>A(L,"onReset",Dt)),T.push(()=>A(L,"onZoomIn",It)),T.push(()=>A(L,"onZoomOut",Mt)),{c(){a=h(),e=n("div"),S=n("a"),V=d("New feature: load markmap from Gist!"),j=h(),C=n("div"),Z=n("div"),Et&&Et.c(),B=h(),R=n("div"),G=n("div"),f(L.$$.fragment),_=h(),X=n("div"),Y=n("div"),K=m("svg"),Q=m("path"),W=h(),tt=n("div"),at=m("svg"),et=m("path"),nt=h(),st=n("div"),ot=m("svg"),it=m("path"),lt=h(),rt=n("div"),ct=n("div"),ht=n("a"),dt=d("Download as interactive HTML"),ft=h(),mt=n("div"),ut=n("a"),pt=d("Download as SVG"),vt=h(),wt=n("span"),gt=d("⚠️"),this.h()},l(t){u('[data-svelte="svelte-r18bnt"]',U.head).forEach(i),a=p(t),e=s(t,"DIV",{class:!0,style:!0});var n=o(e);S=s(n,"A",{class:!0,href:!0});var l=o(S);V=v(l,"New feature: load markmap from Gist!"),l.forEach(i),n.forEach(i),j=p(t),C=s(t,"DIV",{class:!0});var r=o(C);Z=s(r,"DIV",{class:!0});var c=o(Z);Et&&Et.l(c),c.forEach(i),B=p(r),R=s(r,"DIV",{class:!0});var h=o(R);G=s(h,"DIV",{class:!0});var d=o(G);w(L.$$.fragment,d),_=p(d),X=s(d,"DIV",{class:!0});var f=o(X);Y=s(f,"DIV",{title:!0});var m=o(Y);K=s(m,"svg",{width:!0,height:!0,viewBox:!0},1);var g=o(K);Q=s(g,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(Q).forEach(i),g.forEach(i),m.forEach(i),W=p(f),tt=s(f,"DIV",{title:!0});var k=o(tt);at=s(k,"svg",{width:!0,height:!0,viewBox:!0},1);var x=o(at);et=s(x,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(et).forEach(i),x.forEach(i),k.forEach(i),nt=p(f),st=s(f,"DIV",{title:!0});var b=o(st);ot=s(b,"svg",{width:!0,height:!0,viewBox:!0},1);var E=o(ot);it=s(E,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(it).forEach(i),E.forEach(i),b.forEach(i),f.forEach(i),d.forEach(i),lt=p(h),rt=s(h,"DIV",{});var y=o(rt);ct=s(y,"DIV",{class:!0});var D=o(ct);ht=s(D,"A",{});var I=o(ht);dt=v(I,"Download as interactive HTML"),I.forEach(i),D.forEach(i),ft=p(y),mt=s(y,"DIV",{class:!0,title:!0});var M=o(mt);ut=s(M,"A",{});var J=o(ut);pt=v(J,"Download as SVG"),J.forEach(i),vt=p(M),wt=s(M,"SPAN",{class:!0});var T=o(wt);gt=v(T,"⚠️"),T.forEach(i),M.forEach(i),y.forEach(i),h.forEach(i),r.forEach(i),this.h()},h(){U.title="Try Markmap",l(S,"class","inline-block text-sm text-orange-600 underline"),l(S,"href",J=t[7].path+"#?file=gist.md"),l(e,"class","fixed z-10 hidden md:block"),g(e,"top","15px"),g(e,"left","50%"),l(Z,"class","flex-1 min-w-0 border border-gray-300"),l(Q,"fill","none"),l(Q,"stroke-width","2"),l(Q,"stroke","currentColor"),l(Q,"d","M10 6 v8 M6 10 h8"),l(K,"width","20"),l(K,"height","20"),l(K,"viewBox","0 0 20 20"),l(Y,"title","Zoom in"),l(et,"fill","none"),l(et,"stroke-width","2"),l(et,"stroke","currentColor"),l(et,"d","M6 10 h8"),l(at,"width","20"),l(at,"height","20"),l(at,"viewBox","0 0 20 20"),l(tt,"title","Zoom out"),l(it,"fill","none"),l(it,"stroke-width","2"),l(it,"stroke","currentColor"),l(it,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),l(ot,"width","20"),l(ot,"height","20"),l(ot,"viewBox","0 0 20 20"),l(st,"title","Fit window size"),l(X,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),l(G,"class","markmap-wrapper flex-1"),l(ct,"class","inline-block px-4 py-2"),l(wt,"class","text-red-500"),l(mt,"class","inline-block px-4 py-2"),l(mt,"title","SVG does not work well with PrismJS and MathJax"),l(R,"class","flex-1 min-w-0 flex flex-col"),l(C,"class","repl")},m(n,s){r(n,a,s),r(n,e,s),k(e,S),k(S,V),r(n,j,s),r(n,C,s),k(C,Z),Et&&Et.m(Z,null),t[12](Z),k(C,B),k(C,R),k(R,G),x(L,G,null),k(G,_),k(G,X),k(X,Y),k(Y,K),k(K,Q),k(X,W),k(X,tt),k(tt,at),k(at,et),k(X,nt),k(X,st),k(st,ot),k(ot,it),k(R,lt),k(R,rt),k(rt,ct),k(ct,ht),k(ht,dt),k(rt,ft),k(rt,mt),k(mt,ut),k(ut,pt),k(mt,vt),k(mt,wt),k(wt,gt),kt=!0,xt||(bt=[c(S,"click",N),c(K,"click",(function(){b(t[5])&&t[5].apply(this,arguments)})),c(at,"click",(function(){b(t[6])&&t[6].apply(this,arguments)})),c(ot,"click",(function(){b(t[4])&&t[4].apply(this,arguments)})),c(ht,"click",E(t[10])),c(ut,"click",E(t[9]))],xt=!0)},p(a,[e]){t=a,(!kt||128&e&&J!==(J=t[7].path+"#?file=gist.md"))&&l(S,"href",J),t[2]?Et&&(Et.d(1),Et=null):Et?Et.p(t,e):(Et=q(t),Et.c(),Et.m(Z,null));const n={};8&e&&(n.content=t[3]),!F&&2&e&&(F=!0,n.el=t[1],$(()=>F=!1)),!H&&16&e&&(H=!0,n.onReset=t[4],$(()=>H=!1)),!O&&32&e&&(O=!0,n.onZoomIn=t[5],$(()=>O=!1)),!z&&64&e&&(z=!0,n.onZoomOut=t[6],$(()=>z=!1)),L.$set(n)},i(t){kt||(y(L.$$.fragment,t),kt=!0)},o(t){D(L.$$.fragment,t),kt=!1},d(n){n&&i(a),n&&i(e),n&&i(j),n&&i(C),Et&&Et.d(),t[12](null),I(L),xt=!1,M(bt)}}}function H(t,a){const e=document.createElement("a");e.download=t,e.href=a,e.click()}function N(){"function"==typeof gtag&&gtag("event","click",{button:"newFeature"})}function O(t,a,e){let n,s,o,i,l,r,c,h="";const{page:d}=S();let f;async function m(){const t={};f=t;const a=new URLSearchParams(window.location.hash.slice(1)),n=await async function(t,a){t=t||"af76a4c245b302206b16aec503dbe07b",a=a||"markmap.md";const e=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await e.json()).files[a];if(!n)return;let{content:s}=n;if(n.truncated){const t=await fetch(n.raw_url);s=await t.text()}return s}(a.get("gist"),a.get("file"));null!=n&&t===f&&(i&&i.setValue(n),e(3,h=n))}function u(){i&&e(3,h=i.getValue())}return V(t,d,t=>e(7,n=t)),J(async()=>{m(),window.addEventListener("hashchange",m);const{default:t}=await import("./codemirror.4b5afd7e.js");e(2,i=t(s,{lineNumbers:!0,mode:"markdown",value:h})),i.on("change",G(u,500))}),j(async()=>{e(2,i=null)}),[s,o,i,h,l,r,c,n,d,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");H("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=R.transform(h),a=L.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});H("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){e(3,h=t.target.value)},function(t){T[t?"unshift":"push"](()=>{s=t,e(0,s)})},function(t){o=t,e(1,o)},function(t){l=t,e(4,l)},function(t){r=t,e(5,r)},function(t){c=t,e(6,c)}]}export default class extends t{constructor(t){super(),a(this,t,O,F,e,{})}}
