import{S as t,i as a,s as e,e as n,f as s,g as o,d as l,k as r,l as i,A as c,a as h,t as d,c as f,v as u,q as m,b as p,h as v,j as w,z as g,m as k,n as x,E,C as y,p as b,r as M,u as S,D,F as I,G as V,w as C,x as J,H as j,y as T,I as A,J as $}from"./client.7515c552.js";import{c as B,u as P,M as R,t as G,a as Z}from"./markmap.90747f35.js";var L=B((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const n=[...(0,P.persistJS)(e),...(0,P.persistJS)([{type:"iife",data:{fn:(t,a,e,n)=>{const{Markmap:s,loadPlugins:o}=window.markmap;(a?a(o,e,n):Promise.resolve()).then(()=>{window.mm=s.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const e=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),n=[t];return e.length&&n.push((t,a,e)=>t(a,e),e,a),n}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:U}=j;function q(t){let a,e,h;return{c(){a=n("textarea"),this.h()},l(t){a=s(t,"TEXTAREA",{class:!0,value:!0}),o(a).forEach(l),this.h()},h(){r(a,"class","w-full h-full p-1"),a.value=t[3]},m(n,s){i(n,a,s),e||(h=c(a,"input",t[11]),e=!0)},p(t,e){8&e&&(a.value=t[3])},d(t){t&&l(a),e=!1,h()}}}function H(t){let a,e,I,V,C,J,j,B,P,G,Z,L,H,N,F,_,z,X,Y,K,Q,W,tt,at,et,nt,st,ot,lt,rt,it,ct,ht,dt,ft,ut,mt,pt,vt,wt,gt,kt,xt,Et,yt=!t[2]&&q(t);function bt(a){t[13].call(null,a)}function Mt(a){t[14].call(null,a)}function St(a){t[15].call(null,a)}function Dt(a){t[16].call(null,a)}let It={content:t[3]};return void 0!==t[1]&&(It.el=t[1]),void 0!==t[4]&&(It.onReset=t[4]),void 0!==t[5]&&(It.onZoomIn=t[5]),void 0!==t[6]&&(It.onZoomOut=t[6]),L=new R({props:It}),T.push(()=>A(L,"el",bt)),T.push(()=>A(L,"onReset",Mt)),T.push(()=>A(L,"onZoomIn",St)),T.push(()=>A(L,"onZoomOut",Dt)),{c(){a=h(),e=n("div"),I=n("a"),V=d("New feature: load markmap from Gist!"),J=h(),j=n("div"),B=n("div"),yt&&yt.c(),P=h(),G=n("div"),Z=n("div"),f(L.$$.fragment),z=h(),X=n("div"),Y=u("svg"),K=u("circle"),Q=u("path"),W=h(),tt=u("svg"),at=u("circle"),et=u("path"),nt=h(),st=u("svg"),ot=u("circle"),lt=u("path"),rt=h(),it=n("div"),ct=n("div"),ht=n("a"),dt=d("Download as interactive HTML"),ft=h(),ut=n("div"),mt=n("a"),pt=d("Download as SVG"),vt=h(),wt=n("span"),gt=d("⚠️"),this.h()},l(t){m('[data-svelte="svelte-r18bnt"]',U.head).forEach(l),a=p(t),e=s(t,"DIV",{class:!0,style:!0});var n=o(e);I=s(n,"A",{class:!0,href:!0});var r=o(I);V=v(r,"New feature: load markmap from Gist!"),r.forEach(l),n.forEach(l),J=p(t),j=s(t,"DIV",{class:!0});var i=o(j);B=s(i,"DIV",{class:!0});var c=o(B);yt&&yt.l(c),c.forEach(l),P=p(i),G=s(i,"DIV",{class:!0});var h=o(G);Z=s(h,"DIV",{class:!0});var d=o(Z);w(L.$$.fragment,d),z=p(d),X=s(d,"DIV",{class:!0});var f=o(X);Y=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var u=o(Y);K=s(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),o(K).forEach(l),Q=s(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(Q).forEach(l),u.forEach(l),W=p(f),tt=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var g=o(tt);at=s(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),o(at).forEach(l),et=s(g,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(et).forEach(l),g.forEach(l),nt=p(f),st=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var k=o(st);ot=s(k,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),o(ot).forEach(l),lt=s(k,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),o(lt).forEach(l),k.forEach(l),f.forEach(l),d.forEach(l),rt=p(h),it=s(h,"DIV",{});var x=o(it);ct=s(x,"DIV",{class:!0});var E=o(ct);ht=s(E,"A",{});var y=o(ht);dt=v(y,"Download as interactive HTML"),y.forEach(l),E.forEach(l),ft=p(x),ut=s(x,"DIV",{class:!0,title:!0});var b=o(ut);mt=s(b,"A",{});var M=o(mt);pt=v(M,"Download as SVG"),M.forEach(l),vt=p(b),wt=s(b,"SPAN",{class:!0});var S=o(wt);gt=v(S,"⚠️"),S.forEach(l),b.forEach(l),x.forEach(l),h.forEach(l),i.forEach(l),this.h()},h(){U.title="Try Markmap",r(I,"class","inline-block text-sm text-orange-600 underline"),r(I,"href",C=t[7].path+"#?file=gist.md"),r(e,"class","fixed z-10 hidden md:block"),g(e,"top","15px"),g(e,"left","50%"),r(B,"class","flex-1 min-w-0 border border-gray-300"),r(K,"cx","10"),r(K,"cy","10"),r(K,"r","9"),r(K,"fill","none"),r(K,"stroke-width","0.5"),r(K,"stroke","currentColor"),r(Q,"fill","none"),r(Q,"stroke-width","1"),r(Q,"stroke","currentColor"),r(Q,"d","M10 6 v8 M6 10 h8"),r(Y,"width","20"),r(Y,"height","20"),r(Y,"viewBox","0 0 20 20"),r(at,"cx","10"),r(at,"cy","10"),r(at,"r","9"),r(at,"fill","none"),r(at,"stroke-width","0.5"),r(at,"stroke","currentColor"),r(et,"fill","none"),r(et,"stroke-width","1"),r(et,"stroke","currentColor"),r(et,"d","M6 10 h8"),r(tt,"width","20"),r(tt,"height","20"),r(tt,"viewBox","0 0 20 20"),r(ot,"cx","10"),r(ot,"cy","10"),r(ot,"r","9"),r(ot,"fill","none"),r(ot,"stroke-width","0.5"),r(ot,"stroke","currentColor"),r(lt,"fill","none"),r(lt,"stroke-width","1"),r(lt,"stroke","currentColor"),r(lt,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),r(st,"width","20"),r(st,"height","20"),r(st,"viewBox","0 0 20 20"),r(X,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),r(Z,"class","markmap-wrapper flex-1"),r(ct,"class","inline-block px-4 py-2"),r(wt,"class","text-red-500"),r(ut,"class","inline-block px-4 py-2"),r(ut,"title","SVG does not work well with PrismJS and MathJax"),r(G,"class","flex-1 min-w-0 flex flex-col"),r(j,"class","repl")},m(n,s){i(n,a,s),i(n,e,s),k(e,I),k(I,V),i(n,J,s),i(n,j,s),k(j,B),yt&&yt.m(B,null),t[12](B),k(j,P),k(j,G),k(G,Z),x(L,Z,null),k(Z,z),k(Z,X),k(X,Y),k(Y,K),k(Y,Q),k(X,W),k(X,tt),k(tt,at),k(tt,et),k(X,nt),k(X,st),k(st,ot),k(st,lt),k(G,rt),k(G,it),k(it,ct),k(ct,ht),k(ht,dt),k(it,ft),k(it,ut),k(ut,mt),k(mt,pt),k(ut,vt),k(ut,wt),k(wt,gt),kt=!0,xt||(Et=[c(I,"click",O),c(Y,"click",(function(){E(t[5])&&t[5].apply(this,arguments)})),c(tt,"click",(function(){E(t[6])&&t[6].apply(this,arguments)})),c(st,"click",(function(){E(t[4])&&t[4].apply(this,arguments)})),c(ht,"click",y(t[10])),c(mt,"click",y(t[9]))],xt=!0)},p(a,[e]){t=a,(!kt||128&e&&C!==(C=t[7].path+"#?file=gist.md"))&&r(I,"href",C),t[2]?yt&&(yt.d(1),yt=null):yt?yt.p(t,e):(yt=q(t),yt.c(),yt.m(B,null));const n={};8&e&&(n.content=t[3]),!H&&2&e&&(H=!0,n.el=t[1],$(()=>H=!1)),!N&&16&e&&(N=!0,n.onReset=t[4],$(()=>N=!1)),!F&&32&e&&(F=!0,n.onZoomIn=t[5],$(()=>F=!1)),!_&&64&e&&(_=!0,n.onZoomOut=t[6],$(()=>_=!1)),L.$set(n)},i(t){kt||(b(L.$$.fragment,t),kt=!0)},o(t){M(L.$$.fragment,t),kt=!1},d(n){n&&l(a),n&&l(e),n&&l(J),n&&l(j),yt&&yt.d(),t[12](null),S(L),xt=!1,D(Et)}}}function N(t,a){const e=document.createElement("a");e.download=t,e.href=a,e.click()}function O(){"function"==typeof gtag&&gtag("event","click",{button:"newFeature"})}function F(t,a,e){let n,s,o,l,r,i,c,h="";const{page:d}=I();let f;async function u(){const t={};f=t;const a=new URLSearchParams(window.location.hash.slice(1)),n=await async function(t,a){t=t||"af76a4c245b302206b16aec503dbe07b",a=a||"markmap.md";const e=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await e.json()).files[a];if(!n)return;let{content:s}=n;if(n.truncated){const t=await fetch(n.raw_url);s=await t.text()}return s}(a.get("gist"),a.get("file"));null!=n&&t===f&&(l&&l.setValue(n),e(3,h=n))}function m(){l&&e(3,h=l.getValue())}return V(t,d,t=>e(7,n=t)),C(async()=>{u(),window.addEventListener("hashchange",u);const{default:t}=await import("./codemirror.63e0c69d.js");e(2,l=t(s,{lineNumbers:!0,mode:"markdown",value:h})),l.on("change",Z(m,500))}),J(async()=>{e(2,l=null)}),[s,o,l,h,r,i,c,n,d,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");N("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=G.transform(h),a=L.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});N("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){e(3,h=t.target.value)},function(t){T[t?"unshift":"push"](()=>{s=t,e(0,s)})},function(t){o=t,e(1,o)},function(t){r=t,e(4,r)},function(t){i=t,e(5,i)},function(t){c=t,e(6,c)}]}export default class extends t{constructor(t){super(),a(this,t,F,H,e,{})}}
