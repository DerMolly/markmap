import{S as t,i as a,s as e,a as n,e as o,t as s,c as r,v as i,q as c,d as l,b as h,f as d,g as f,h as m,j as u,k as p,z as v,l as w,m as k,n as g,A as x,E as b,C as y,p as E,r as M,u as S,D,w as I,x as V,F as C,y as j,G as J,H as $}from"./client.719b31f4.js";import{c as T,u as A,M as B,t as P,a as G}from"./markmap.04baaab7.js";var R=T((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const n=[...(0,A.persistJS)(e),...(0,A.persistJS)([{type:"iife",data:{fn:(t,a,e,n)=>{const{Markmap:o,loadPlugins:s}=window.markmap;(a?a(s,e,n):Promise.resolve()).then(()=>{window.mm=o.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const e=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),n=[t];return e.length&&n.push((t,a,e)=>t(a,e),e,a),n}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:Z}=C;function L(t){let a,e,I,V,C,T,A,P,G,R,L,U,q,H,N,O,_,z,F,X,Y,K,Q,W,tt,at,et,nt,ot,st,rt,it,ct,lt,ht,dt,ft,mt,ut,pt,vt,wt,kt,gt;function xt(a){t[10].call(null,a)}function bt(a){t[11].call(null,a)}function yt(a){t[12].call(null,a)}function Et(a){t[13].call(null,a)}let Mt={content:t[2]};return void 0!==t[1]&&(Mt.el=t[1]),void 0!==t[3]&&(Mt.onReset=t[3]),void 0!==t[4]&&(Mt.onZoomIn=t[4]),void 0!==t[5]&&(Mt.onZoomOut=t[5]),U=new B({props:Mt}),j.push(()=>J(U,"el",xt)),j.push(()=>J(U,"onReset",bt)),j.push(()=>J(U,"onZoomIn",yt)),j.push(()=>J(U,"onZoomOut",Et)),{c(){a=n(),e=o("div"),I=o("a"),V=s("New feature: load markmap from Gist!"),T=n(),A=o("div"),P=o("div"),G=n(),R=o("div"),L=o("div"),r(U.$$.fragment),_=n(),z=o("div"),F=i("svg"),X=i("circle"),Y=i("path"),K=n(),Q=i("svg"),W=i("circle"),tt=i("path"),at=n(),et=i("svg"),nt=i("circle"),ot=i("path"),st=n(),rt=o("div"),it=o("div"),ct=o("a"),lt=s("Download as interactive HTML"),ht=n(),dt=o("div"),ft=o("a"),mt=s("Download as SVG"),ut=n(),pt=o("span"),vt=s("⚠️"),this.h()},l(t){c('[data-svelte="svelte-r18bnt"]',Z.head).forEach(l),a=h(t),e=d(t,"DIV",{class:!0,style:!0});var n=f(e);I=d(n,"A",{class:!0,href:!0});var o=f(I);V=m(o,"New feature: load markmap from Gist!"),o.forEach(l),n.forEach(l),T=h(t),A=d(t,"DIV",{class:!0});var s=f(A);P=d(s,"DIV",{class:!0}),f(P).forEach(l),G=h(s),R=d(s,"DIV",{class:!0});var r=f(R);L=d(r,"DIV",{class:!0});var i=f(L);u(U.$$.fragment,i),_=h(i),z=d(i,"DIV",{class:!0});var p=f(z);F=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var v=f(F);X=d(v,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(X).forEach(l),Y=d(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(Y).forEach(l),v.forEach(l),K=h(p),Q=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var w=f(Q);W=d(w,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(W).forEach(l),tt=d(w,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(tt).forEach(l),w.forEach(l),at=h(p),et=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var k=f(et);nt=d(k,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(nt).forEach(l),ot=d(k,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(ot).forEach(l),k.forEach(l),p.forEach(l),i.forEach(l),st=h(r),rt=d(r,"DIV",{});var g=f(rt);it=d(g,"DIV",{class:!0});var x=f(it);ct=d(x,"A",{});var b=f(ct);lt=m(b,"Download as interactive HTML"),b.forEach(l),x.forEach(l),ht=h(g),dt=d(g,"DIV",{class:!0,title:!0});var y=f(dt);ft=d(y,"A",{});var E=f(ft);mt=m(E,"Download as SVG"),E.forEach(l),ut=h(y),pt=d(y,"SPAN",{class:!0});var M=f(pt);vt=m(M,"⚠️"),M.forEach(l),y.forEach(l),g.forEach(l),r.forEach(l),s.forEach(l),this.h()},h(){Z.title="Try Markmap",p(I,"class","inline-block text-sm text-orange-600 underline"),p(I,"href",C=t[6]+"#?file=gist.md"),p(e,"class","fixed z-10"),v(e,"top","15px"),v(e,"left","50%"),p(P,"class","flex-1 min-w-0 border border-gray-300"),p(X,"cx","10"),p(X,"cy","10"),p(X,"r","9"),p(X,"fill","none"),p(X,"stroke-width","0.5"),p(X,"stroke","currentColor"),p(Y,"fill","none"),p(Y,"stroke-width","1"),p(Y,"stroke","currentColor"),p(Y,"d","M10 6 v8 M6 10 h8"),p(F,"width","20"),p(F,"height","20"),p(F,"viewBox","0 0 20 20"),p(W,"cx","10"),p(W,"cy","10"),p(W,"r","9"),p(W,"fill","none"),p(W,"stroke-width","0.5"),p(W,"stroke","currentColor"),p(tt,"fill","none"),p(tt,"stroke-width","1"),p(tt,"stroke","currentColor"),p(tt,"d","M6 10 h8"),p(Q,"width","20"),p(Q,"height","20"),p(Q,"viewBox","0 0 20 20"),p(nt,"cx","10"),p(nt,"cy","10"),p(nt,"r","9"),p(nt,"fill","none"),p(nt,"stroke-width","0.5"),p(nt,"stroke","currentColor"),p(ot,"fill","none"),p(ot,"stroke-width","1"),p(ot,"stroke","currentColor"),p(ot,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),p(et,"width","20"),p(et,"height","20"),p(et,"viewBox","0 0 20 20"),p(z,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),p(L,"class","markmap-wrapper flex-1"),p(it,"class","inline-block px-4 py-2"),p(pt,"class","text-red-500"),p(dt,"class","inline-block px-4 py-2"),p(dt,"title","SVG does not work well with PrismJS and MathJax"),p(R,"class","flex-1 min-w-0 flex flex-col"),p(A,"class","repl")},m(n,o){w(n,a,o),w(n,e,o),k(e,I),k(I,V),w(n,T,o),w(n,A,o),k(A,P),t[9](P),k(A,G),k(A,R),k(R,L),g(U,L,null),k(L,_),k(L,z),k(z,F),k(F,X),k(F,Y),k(z,K),k(z,Q),k(Q,W),k(Q,tt),k(z,at),k(z,et),k(et,nt),k(et,ot),k(R,st),k(R,rt),k(rt,it),k(it,ct),k(ct,lt),k(rt,ht),k(rt,dt),k(dt,ft),k(ft,mt),k(dt,ut),k(dt,pt),k(pt,vt),wt=!0,kt||(gt=[x(F,"click",(function(){b(t[4])&&t[4].apply(this,arguments)})),x(Q,"click",(function(){b(t[5])&&t[5].apply(this,arguments)})),x(et,"click",(function(){b(t[3])&&t[3].apply(this,arguments)})),x(ct,"click",y(t[8])),x(ft,"click",y(t[7]))],kt=!0)},p(a,[e]){t=a,(!wt||64&e&&C!==(C=t[6]+"#?file=gist.md"))&&p(I,"href",C);const n={};4&e&&(n.content=t[2]),!q&&2&e&&(q=!0,n.el=t[1],$(()=>q=!1)),!H&&8&e&&(H=!0,n.onReset=t[3],$(()=>H=!1)),!N&&16&e&&(N=!0,n.onZoomIn=t[4],$(()=>N=!1)),!O&&32&e&&(O=!0,n.onZoomOut=t[5],$(()=>O=!1)),U.$set(n)},i(t){wt||(E(U.$$.fragment,t),wt=!0)},o(t){M(U.$$.fragment,t),wt=!1},d(n){n&&l(a),n&&l(e),n&&l(T),n&&l(A),t[9](null),S(U),kt=!1,D(gt)}}}function U(t,a){const e=document.createElement("a");e.download=t,e.href=a,e.click()}function q(t,a,e){let n,o,s,r,i,c,l,h,d;async function f(){const t={};d=t;const a=new URLSearchParams(window.location.hash.slice(1)),e=await async function(t,a){t=t||"af76a4c245b302206b16aec503dbe07b",a=a||"markmap.md";const e=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await e.json()).files[a];if(!n)return;let{content:o}=n;if(n.truncated){const t=await fetch(n.raw_url);o=await t.text()}return o}(a.get("gist"),a.get("file"));s&&null!=e&&t===d&&(s.setValue(e),m())}function m(){s&&e(2,r=s.getValue())}return I(async()=>{const{default:t}=await import("./codemirror.3ba72255.js").then((function(t){return t.c}));await import("./markdown.0e329462.js").then((function(t){return t.m})),s=t(n,{lineNumbers:!0,mode:"markdown",value:""}),s.on("change",G(m,500)),m(),f(),window.addEventListener("hashchange",f);const{origin:a,pathname:o}=window.location;e(6,h=a+o)}),V(async()=>{s=null}),[n,o,r,i,c,l,h,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");U("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=P.transform(r||""),a=R.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});U("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){j[t?"unshift":"push"](()=>{n=t,e(0,n)})},function(t){o=t,e(1,o)},function(t){i=t,e(3,i)},function(t){c=t,e(4,c)},function(t){l=t,e(5,l)}]}export default class extends t{constructor(t){super(),a(this,t,q,L,e,{})}}
