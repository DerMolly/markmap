import{S as t,i as a,s as e,a as n,e as o,t as s,c as r,v as i,q as c,d as l,b as h,f as d,g as f,h as m,j as u,k as p,z as v,l as w,m as k,n as g,A as x,E as y,C as b,p as E,r as M,u as S,D,w as I,x as V,F as C,y as j,G as J,H as $}from"./client.94f41404.js";import{c as T,u as A,M as B,t as P,a as G}from"./markmap.429331c1.js";var R=T((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const n=[...(0,A.persistJS)(e),...(0,A.persistJS)([{type:"iife",data:{fn:(t,a,e,n)=>{const{Markmap:o,loadPlugins:s}=window.markmap;(a?a(s,e,n):Promise.resolve()).then(()=>{window.mm=o.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const e=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),n=[t];return e.length&&n.push((t,a,e)=>t(a,e),e,a),n}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:Z}=C;function L(t){let a,e,I,V,C,T,A,P,G,R,L,U,q,H,N,O,_,z,F,X,Y,K,Q,W,tt,at,et,nt,ot,st,rt,it,ct,lt,ht,dt,ft,mt,ut,pt,vt,wt,kt;function gt(a){t[9].call(null,a)}function xt(a){t[10].call(null,a)}function yt(a){t[11].call(null,a)}function bt(a){t[12].call(null,a)}let Et={content:t[2]};return void 0!==t[1]&&(Et.el=t[1]),void 0!==t[3]&&(Et.onReset=t[3]),void 0!==t[4]&&(Et.onZoomIn=t[4]),void 0!==t[5]&&(Et.onZoomOut=t[5]),L=new B({props:Et}),j.push(()=>J(L,"el",gt)),j.push(()=>J(L,"onReset",xt)),j.push(()=>J(L,"onZoomIn",yt)),j.push(()=>J(L,"onZoomOut",bt)),{c(){a=n(),e=o("div"),I=o("a"),V=s("New feature: load markmap from Gist!"),C=n(),T=o("div"),A=o("div"),P=n(),G=o("div"),R=o("div"),r(L.$$.fragment),O=n(),_=o("div"),z=i("svg"),F=i("circle"),X=i("path"),Y=n(),K=i("svg"),Q=i("circle"),W=i("path"),tt=n(),at=i("svg"),et=i("circle"),nt=i("path"),ot=n(),st=o("div"),rt=o("div"),it=o("a"),ct=s("Download as interactive HTML"),lt=n(),ht=o("div"),dt=o("a"),ft=s("Download as SVG"),mt=n(),ut=o("span"),pt=s("⚠️"),this.h()},l(t){c('[data-svelte="svelte-r18bnt"]',Z.head).forEach(l),a=h(t),e=d(t,"DIV",{class:!0,style:!0});var n=f(e);I=d(n,"A",{class:!0,href:!0});var o=f(I);V=m(o,"New feature: load markmap from Gist!"),o.forEach(l),n.forEach(l),C=h(t),T=d(t,"DIV",{class:!0});var s=f(T);A=d(s,"DIV",{class:!0}),f(A).forEach(l),P=h(s),G=d(s,"DIV",{class:!0});var r=f(G);R=d(r,"DIV",{class:!0});var i=f(R);u(L.$$.fragment,i),O=h(i),_=d(i,"DIV",{class:!0});var p=f(_);z=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var v=f(z);F=d(v,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(F).forEach(l),X=d(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(X).forEach(l),v.forEach(l),Y=h(p),K=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var w=f(K);Q=d(w,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(Q).forEach(l),W=d(w,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(W).forEach(l),w.forEach(l),tt=h(p),at=d(p,"svg",{width:!0,height:!0,viewBox:!0},1);var k=f(at);et=d(k,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),f(et).forEach(l),nt=d(k,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),f(nt).forEach(l),k.forEach(l),p.forEach(l),i.forEach(l),ot=h(r),st=d(r,"DIV",{});var g=f(st);rt=d(g,"DIV",{class:!0});var x=f(rt);it=d(x,"A",{});var y=f(it);ct=m(y,"Download as interactive HTML"),y.forEach(l),x.forEach(l),lt=h(g),ht=d(g,"DIV",{class:!0,title:!0});var b=f(ht);dt=d(b,"A",{});var E=f(dt);ft=m(E,"Download as SVG"),E.forEach(l),mt=h(b),ut=d(b,"SPAN",{class:!0});var M=f(ut);pt=m(M,"⚠️"),M.forEach(l),b.forEach(l),g.forEach(l),r.forEach(l),s.forEach(l),this.h()},h(){Z.title="Try Markmap",p(I,"class","inline-block text-sm text-orange-600 underline"),p(I,"href","/repl#?file=gist.md"),p(e,"class","fixed z-10"),v(e,"top","15px"),v(e,"left","50%"),p(A,"class","flex-1 min-w-0 border border-gray-300"),p(F,"cx","10"),p(F,"cy","10"),p(F,"r","9"),p(F,"fill","none"),p(F,"stroke-width","0.5"),p(F,"stroke","currentColor"),p(X,"fill","none"),p(X,"stroke-width","1"),p(X,"stroke","currentColor"),p(X,"d","M10 6 v8 M6 10 h8"),p(z,"width","20"),p(z,"height","20"),p(z,"viewBox","0 0 20 20"),p(Q,"cx","10"),p(Q,"cy","10"),p(Q,"r","9"),p(Q,"fill","none"),p(Q,"stroke-width","0.5"),p(Q,"stroke","currentColor"),p(W,"fill","none"),p(W,"stroke-width","1"),p(W,"stroke","currentColor"),p(W,"d","M6 10 h8"),p(K,"width","20"),p(K,"height","20"),p(K,"viewBox","0 0 20 20"),p(et,"cx","10"),p(et,"cy","10"),p(et,"r","9"),p(et,"fill","none"),p(et,"stroke-width","0.5"),p(et,"stroke","currentColor"),p(nt,"fill","none"),p(nt,"stroke-width","1"),p(nt,"stroke","currentColor"),p(nt,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),p(at,"width","20"),p(at,"height","20"),p(at,"viewBox","0 0 20 20"),p(_,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),p(R,"class","markmap-wrapper flex-1"),p(rt,"class","inline-block px-4 py-2"),p(ut,"class","text-red-500"),p(ht,"class","inline-block px-4 py-2"),p(ht,"title","SVG does not work well with PrismJS and MathJax"),p(G,"class","flex-1 min-w-0 flex flex-col"),p(T,"class","repl")},m(n,o){w(n,a,o),w(n,e,o),k(e,I),k(I,V),w(n,C,o),w(n,T,o),k(T,A),t[8](A),k(T,P),k(T,G),k(G,R),g(L,R,null),k(R,O),k(R,_),k(_,z),k(z,F),k(z,X),k(_,Y),k(_,K),k(K,Q),k(K,W),k(_,tt),k(_,at),k(at,et),k(at,nt),k(G,ot),k(G,st),k(st,rt),k(rt,it),k(it,ct),k(st,lt),k(st,ht),k(ht,dt),k(dt,ft),k(ht,mt),k(ht,ut),k(ut,pt),vt=!0,wt||(kt=[x(z,"click",(function(){y(t[4])&&t[4].apply(this,arguments)})),x(K,"click",(function(){y(t[5])&&t[5].apply(this,arguments)})),x(at,"click",(function(){y(t[3])&&t[3].apply(this,arguments)})),x(it,"click",b(t[7])),x(dt,"click",b(t[6]))],wt=!0)},p(a,[e]){t=a;const n={};4&e&&(n.content=t[2]),!U&&2&e&&(U=!0,n.el=t[1],$(()=>U=!1)),!q&&8&e&&(q=!0,n.onReset=t[3],$(()=>q=!1)),!H&&16&e&&(H=!0,n.onZoomIn=t[4],$(()=>H=!1)),!N&&32&e&&(N=!0,n.onZoomOut=t[5],$(()=>N=!1)),L.$set(n)},i(t){vt||(E(L.$$.fragment,t),vt=!0)},o(t){M(L.$$.fragment,t),vt=!1},d(n){n&&l(a),n&&l(e),n&&l(C),n&&l(T),t[8](null),S(L),wt=!1,D(kt)}}}function U(t,a){const e=document.createElement("a");e.download=t,e.href=a,e.click()}function q(t,a,e){let n,o,s,r,i,c,l,h;async function d(){const t={};h=t;const a=new URLSearchParams(window.location.hash.slice(1)),e=await async function(t,a){t=t||"af76a4c245b302206b16aec503dbe07b",a=a||"markmap.md";const e=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await e.json()).files[a];if(!n)return;let{content:o}=n;if(n.truncated){const t=await fetch(n.raw_url);o=await t.text()}return o}(a.get("gist"),a.get("file"));s&&null!=e&&t===h&&(s.setValue(e),f())}function f(){s&&e(2,r=s.getValue())}return I(async()=>{const{default:t}=await import("./codemirror.12357991.js").then((function(t){return t.c}));await import("./markdown.c18319b9.js").then((function(t){return t.m})),s=t(n,{lineNumbers:!0,mode:"markdown",value:""}),s.on("change",G(f,500)),f(),d(),window.addEventListener("hashchange",d)}),V(async()=>{s=null}),[n,o,r,i,c,l,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");U("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=P.transform(r||""),a=R.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});U("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){j[t?"unshift":"push"](()=>{n=t,e(0,n)})},function(t){o=t,e(1,o)},function(t){i=t,e(3,i)},function(t){c=t,e(4,c)},function(t){l=t,e(5,l)}]}export default class extends t{constructor(t){super(),a(this,t,q,L,e,{})}}
