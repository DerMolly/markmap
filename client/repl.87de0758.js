import{S as a,i as t,s as e,e as n,f as s,g as o,d as l,k as c,l as i,A as r,a as m,t as d,c as u,q as p,b as f,h,j as v,z as g,m as x,n as b,C as w,p as k,r as y,u as S,D as E,K as $,L as I,w as D,x as T,M as V,y as M,E as J,F as Z}from"./client.14e7e03f.js";import{c as j,u as C,M as A,t as O,a as R}from"./markmap.61fc75cf.js";import{T as P,s as U}from"./gist.efa11935.js";var G=j((function(a,t){t.__esModule=!0,t.fillTemplate=function(a,t){const n=[...(0,C.persistJS)(e),...(0,C.persistJS)([{type:"iife",data:{fn:(a,t,e,n)=>{const{Markmap:s,loadPlugins:o}=window.markmap;(t?t(o,e,n):Promise.resolve()).then(()=>{window.mm=s.create("svg#mindmap",null,a)})},getParams:({data:a,opts:t})=>{const e=[(null==t?void 0:t.mathJax)&&"mathJax",(null==t?void 0:t.prism)&&"prism"].filter(Boolean),n=[a];return e.length&&n.push((a,t,e)=>a(t,e),e,t),n}}}],{data:a,opts:t})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(a=>({type:"script",data:{src:a}}))}));const{document:L}=V;function q(a){let t,e,m;return{c(){t=n("textarea"),this.h()},l(a){t=s(a,"TEXTAREA",{class:!0,value:!0}),o(t).forEach(l),this.h()},h(){c(t,"class","w-full h-full p-1"),t.value=a[3]},m(n,s){i(n,t,s),e||(m=r(t,"input",a[11]),e=!0)},p(a,e){8&e&&(t.value=a[3])},d(a){a&&l(t),e=!1,m()}}}function N(a){let t,e,$,I,D,T,V,j,C,O,R,U,G,N,z,H,K,X,_,B,Y,Q,W,aa,ta,ea,na,sa,oa,la,ca,ia,ra,ma=!a[2]&&q(a);function da(t){a[13].call(null,t)}function ua(t){a[14].call(null,t)}function pa(t){a[15].call(null,t)}function fa(t){a[16].call(null,t)}let ha={content:a[3]};return void 0!==a[1]&&(ha.el=a[1]),void 0!==a[4]&&(ha.onReset=a[4]),void 0!==a[5]&&(ha.onZoomIn=a[5]),void 0!==a[6]&&(ha.onZoomOut=a[6]),U=new A({props:ha}),M.push(()=>J(U,"el",da)),M.push(()=>J(U,"onReset",ua)),M.push(()=>J(U,"onZoomIn",pa)),M.push(()=>J(U,"onZoomOut",fa)),X=new P({props:{class:"absolute right-0 bottom-0 mr-2 mb-2",onReset:a[4],onZoomIn:a[5],onZoomOut:a[6]}}),{c(){t=m(),e=n("div"),$=n("a"),I=d("New feature: load markmap from Gist!"),T=m(),V=n("div"),j=n("div"),ma&&ma.c(),C=m(),O=n("div"),R=n("div"),u(U.$$.fragment),K=m(),u(X.$$.fragment),_=m(),B=n("div"),Y=n("div"),Q=n("a"),W=d("Download as interactive HTML"),aa=m(),ta=n("div"),ea=n("a"),na=d("Download as SVG"),sa=m(),oa=n("span"),la=d("⚠️"),this.h()},l(a){p('[data-svelte="svelte-r18bnt"]',L.head).forEach(l),t=f(a),e=s(a,"DIV",{class:!0,style:!0});var n=o(e);$=s(n,"A",{class:!0,href:!0});var c=o($);I=h(c,"New feature: load markmap from Gist!"),c.forEach(l),n.forEach(l),T=f(a),V=s(a,"DIV",{class:!0});var i=o(V);j=s(i,"DIV",{class:!0});var r=o(j);ma&&ma.l(r),r.forEach(l),C=f(i),O=s(i,"DIV",{class:!0});var m=o(O);R=s(m,"DIV",{class:!0});var d=o(R);v(U.$$.fragment,d),K=f(d),v(X.$$.fragment,d),d.forEach(l),_=f(m),B=s(m,"DIV",{});var u=o(B);Y=s(u,"DIV",{class:!0});var g=o(Y);Q=s(g,"A",{});var x=o(Q);W=h(x,"Download as interactive HTML"),x.forEach(l),g.forEach(l),aa=f(u),ta=s(u,"DIV",{class:!0,title:!0});var b=o(ta);ea=s(b,"A",{});var w=o(ea);na=h(w,"Download as SVG"),w.forEach(l),sa=f(b),oa=s(b,"SPAN",{class:!0});var k=o(oa);la=h(k,"⚠️"),k.forEach(l),b.forEach(l),u.forEach(l),m.forEach(l),i.forEach(l),this.h()},h(){L.title="Try Markmap",c($,"class","inline-block text-sm text-orange-600 underline"),c($,"href",D=a[7].path+"#?gist=af76a4c245b302206b16aec503dbe07b/gist.md,gitee:a73wgucr28dhlxp91kytm57/gist.md"),c(e,"class","fixed z-10 hidden md:block"),g(e,"top","15px"),g(e,"left","50%"),c(j,"class","flex-1 min-w-0 border border-gray-300"),c(R,"class","markmap-wrapper flex-1"),c(Y,"class","inline-block px-4 py-2"),c(oa,"class","text-red-500"),c(ta,"class","inline-block px-4 py-2"),c(ta,"title","SVG does not work well with PrismJS and MathJax"),c(O,"class","flex-1 min-w-0 flex flex-col"),c(V,"class","repl")},m(n,s){i(n,t,s),i(n,e,s),x(e,$),x($,I),i(n,T,s),i(n,V,s),x(V,j),ma&&ma.m(j,null),a[12](j),x(V,C),x(V,O),x(O,R),b(U,R,null),x(R,K),b(X,R,null),x(O,_),x(O,B),x(B,Y),x(Y,Q),x(Q,W),x(B,aa),x(B,ta),x(ta,ea),x(ea,na),x(ta,sa),x(ta,oa),x(oa,la),ca=!0,ia||(ra=[r($,"click",F),r(Q,"click",w(a[10])),r(ea,"click",w(a[9]))],ia=!0)},p(a,[t]){(!ca||128&t&&D!==(D=a[7].path+"#?gist=af76a4c245b302206b16aec503dbe07b/gist.md,gitee:a73wgucr28dhlxp91kytm57/gist.md"))&&c($,"href",D),a[2]?ma&&(ma.d(1),ma=null):ma?ma.p(a,t):(ma=q(a),ma.c(),ma.m(j,null));const e={};8&t&&(e.content=a[3]),!G&&2&t&&(G=!0,e.el=a[1],Z(()=>G=!1)),!N&&16&t&&(N=!0,e.onReset=a[4],Z(()=>N=!1)),!z&&32&t&&(z=!0,e.onZoomIn=a[5],Z(()=>z=!1)),!H&&64&t&&(H=!0,e.onZoomOut=a[6],Z(()=>H=!1)),U.$set(e);const n={};16&t&&(n.onReset=a[4]),32&t&&(n.onZoomIn=a[5]),64&t&&(n.onZoomOut=a[6]),X.$set(n)},i(a){ca||(k(U.$$.fragment,a),k(X.$$.fragment,a),ca=!0)},o(a){y(U.$$.fragment,a),y(X.$$.fragment,a),ca=!1},d(n){n&&l(t),n&&l(e),n&&l(T),n&&l(V),ma&&ma.d(),a[12](null),S(U),S(X),ia=!1,E(ra)}}}function z(a,t){const e=document.createElement("a");e.download=a,e.href=t,e.click()}function F(){"function"==typeof gtag&&gtag("event","click",{button:"newFeature"})}function H(a,t,e){let n,s,o,l,c,i,r,m="";const{page:d}=$();function u(){l&&e(3,m=l.getValue())}let p;return I(a,d,a=>e(7,n=a)),D(async()=>{p=U(a=>{l&&l.setValue(a),e(3,m=a)});const{default:a}=await import("./codemirror.c3adcb02.js");e(2,l=a(s,{lineNumbers:!0,mode:"markdown",value:m,indentUnit:2,tabSize:2})),l.setOption("extraKeys",{Tab:a=>{a.somethingSelected()?a.execCommand("indentMore"):a.replaceSelection(" ".repeat(a.getOption("indentUnit")))},"Shift-Tab":a=>{a.execCommand("indentLess")}}),l.on("change",R(u,500))}),T(()=>{e(2,l=null),p&&(p(),p=null)}),[s,o,l,m,c,i,r,n,d,function(){const a=o.outerHTML.replace(/<br>/g,"<br/>");z("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(a))},function(){const a=O.transform(m),t=G.fillTemplate(a,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});z("markmap.html","data:text/html;utf8,"+encodeURIComponent(t))},function(a){e(3,m=a.target.value)},function(a){M[a?"unshift":"push"](()=>{s=a,e(0,s)})},function(a){o=a,e(1,o)},function(a){c=a,e(4,c)},function(a){i=a,e(5,i)},function(a){r=a,e(6,r)}]}export default class extends a{constructor(a){super(),t(this,a,H,N,e,{})}}
