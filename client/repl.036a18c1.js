import{S as t,i as a,s as e,e as n,f as o,g as s,d as i,k as l,l as r,A as c,a as h,t as d,c as f,v as u,q as m,b as p,h as v,j as w,z as g,m as k,n as x,E,C as b,p as y,r as M,u as S,D,w as I,x as V,F as C,y as j,G as J,H as T}from"./client.d3c0d1aa.js";import{c as A,u as $,M as B,t as P,a as R}from"./markmap.095f7b0f.js";var G=A((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const n=[...(0,$.persistJS)(e),...(0,$.persistJS)([{type:"iife",data:{fn:(t,a,e,n)=>{const{Markmap:o,loadPlugins:s}=window.markmap;(a?a(s,e,n):Promise.resolve()).then(()=>{window.mm=o.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const e=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),n=[t];return e.length&&n.push((t,a,e)=>t(a,e),e,a),n}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>n.join(""))};const e=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.8.0/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:Z}=C;function L(t){let a,e,h;return{c(){a=n("textarea"),this.h()},l(t){a=o(t,"TEXTAREA",{class:!0,value:!0}),s(a).forEach(i),this.h()},h(){l(a,"class","w-full h-full p-1"),a.value=t[3]},m(n,o){r(n,a,o),e||(h=c(a,"input",t[10]),e=!0)},p(t,e){8&e&&(a.value=t[3])},d(t){t&&i(a),e=!1,h()}}}function U(t){let a,e,I,V,C,A,$,P,R,G,U,q,N,O,F,_,z,X,Y,K,Q,W,tt,at,et,nt,ot,st,it,lt,rt,ct,ht,dt,ft,ut,mt,pt,vt,wt,gt,kt,xt,Et,bt=!t[2]&&L(t);function yt(a){t[12].call(null,a)}function Mt(a){t[13].call(null,a)}function St(a){t[14].call(null,a)}function Dt(a){t[15].call(null,a)}let It={content:t[3]};return void 0!==t[1]&&(It.el=t[1]),void 0!==t[4]&&(It.onReset=t[4]),void 0!==t[5]&&(It.onZoomIn=t[5]),void 0!==t[6]&&(It.onZoomOut=t[6]),q=new B({props:It}),j.push(()=>J(q,"el",yt)),j.push(()=>J(q,"onReset",Mt)),j.push(()=>J(q,"onZoomIn",St)),j.push(()=>J(q,"onZoomOut",Dt)),{c(){a=h(),e=n("div"),I=n("a"),V=d("New feature: load markmap from Gist!"),A=h(),$=n("div"),P=n("div"),bt&&bt.c(),R=h(),G=n("div"),U=n("div"),f(q.$$.fragment),z=h(),X=n("div"),Y=u("svg"),K=u("circle"),Q=u("path"),W=h(),tt=u("svg"),at=u("circle"),et=u("path"),nt=h(),ot=u("svg"),st=u("circle"),it=u("path"),lt=h(),rt=n("div"),ct=n("div"),ht=n("a"),dt=d("Download as interactive HTML"),ft=h(),ut=n("div"),mt=n("a"),pt=d("Download as SVG"),vt=h(),wt=n("span"),gt=d("⚠️"),this.h()},l(t){m('[data-svelte="svelte-r18bnt"]',Z.head).forEach(i),a=p(t),e=o(t,"DIV",{class:!0,style:!0});var n=s(e);I=o(n,"A",{class:!0,href:!0});var l=s(I);V=v(l,"New feature: load markmap from Gist!"),l.forEach(i),n.forEach(i),A=p(t),$=o(t,"DIV",{class:!0});var r=s($);P=o(r,"DIV",{class:!0});var c=s(P);bt&&bt.l(c),c.forEach(i),R=p(r),G=o(r,"DIV",{class:!0});var h=s(G);U=o(h,"DIV",{class:!0});var d=s(U);w(q.$$.fragment,d),z=p(d),X=o(d,"DIV",{class:!0});var f=s(X);Y=o(f,"svg",{width:!0,height:!0,viewBox:!0},1);var u=s(Y);K=o(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),s(K).forEach(i),Q=o(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),s(Q).forEach(i),u.forEach(i),W=p(f),tt=o(f,"svg",{width:!0,height:!0,viewBox:!0},1);var g=s(tt);at=o(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),s(at).forEach(i),et=o(g,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),s(et).forEach(i),g.forEach(i),nt=p(f),ot=o(f,"svg",{width:!0,height:!0,viewBox:!0},1);var k=s(ot);st=o(k,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),s(st).forEach(i),it=o(k,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),s(it).forEach(i),k.forEach(i),f.forEach(i),d.forEach(i),lt=p(h),rt=o(h,"DIV",{});var x=s(rt);ct=o(x,"DIV",{class:!0});var E=s(ct);ht=o(E,"A",{});var b=s(ht);dt=v(b,"Download as interactive HTML"),b.forEach(i),E.forEach(i),ft=p(x),ut=o(x,"DIV",{class:!0,title:!0});var y=s(ut);mt=o(y,"A",{});var M=s(mt);pt=v(M,"Download as SVG"),M.forEach(i),vt=p(y),wt=o(y,"SPAN",{class:!0});var S=s(wt);gt=v(S,"⚠️"),S.forEach(i),y.forEach(i),x.forEach(i),h.forEach(i),r.forEach(i),this.h()},h(){Z.title="Try Markmap",l(I,"class","inline-block text-sm text-orange-600 underline"),l(I,"href",C=t[7]+"#?file=gist.md"),l(e,"class","fixed z-10 hidden md:block"),g(e,"top","15px"),g(e,"left","50%"),l(P,"class","flex-1 min-w-0 border border-gray-300"),l(K,"cx","10"),l(K,"cy","10"),l(K,"r","9"),l(K,"fill","none"),l(K,"stroke-width","0.5"),l(K,"stroke","currentColor"),l(Q,"fill","none"),l(Q,"stroke-width","1"),l(Q,"stroke","currentColor"),l(Q,"d","M10 6 v8 M6 10 h8"),l(Y,"width","20"),l(Y,"height","20"),l(Y,"viewBox","0 0 20 20"),l(at,"cx","10"),l(at,"cy","10"),l(at,"r","9"),l(at,"fill","none"),l(at,"stroke-width","0.5"),l(at,"stroke","currentColor"),l(et,"fill","none"),l(et,"stroke-width","1"),l(et,"stroke","currentColor"),l(et,"d","M6 10 h8"),l(tt,"width","20"),l(tt,"height","20"),l(tt,"viewBox","0 0 20 20"),l(st,"cx","10"),l(st,"cy","10"),l(st,"r","9"),l(st,"fill","none"),l(st,"stroke-width","0.5"),l(st,"stroke","currentColor"),l(it,"fill","none"),l(it,"stroke-width","1"),l(it,"stroke","currentColor"),l(it,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),l(ot,"width","20"),l(ot,"height","20"),l(ot,"viewBox","0 0 20 20"),l(X,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),l(U,"class","markmap-wrapper flex-1"),l(ct,"class","inline-block px-4 py-2"),l(wt,"class","text-red-500"),l(ut,"class","inline-block px-4 py-2"),l(ut,"title","SVG does not work well with PrismJS and MathJax"),l(G,"class","flex-1 min-w-0 flex flex-col"),l($,"class","repl")},m(n,o){r(n,a,o),r(n,e,o),k(e,I),k(I,V),r(n,A,o),r(n,$,o),k($,P),bt&&bt.m(P,null),t[11](P),k($,R),k($,G),k(G,U),x(q,U,null),k(U,z),k(U,X),k(X,Y),k(Y,K),k(Y,Q),k(X,W),k(X,tt),k(tt,at),k(tt,et),k(X,nt),k(X,ot),k(ot,st),k(ot,it),k(G,lt),k(G,rt),k(rt,ct),k(ct,ht),k(ht,dt),k(rt,ft),k(rt,ut),k(ut,mt),k(mt,pt),k(ut,vt),k(ut,wt),k(wt,gt),kt=!0,xt||(Et=[c(I,"click",H),c(Y,"click",(function(){E(t[5])&&t[5].apply(this,arguments)})),c(tt,"click",(function(){E(t[6])&&t[6].apply(this,arguments)})),c(ot,"click",(function(){E(t[4])&&t[4].apply(this,arguments)})),c(ht,"click",b(t[9])),c(mt,"click",b(t[8]))],xt=!0)},p(a,[e]){t=a,(!kt||128&e&&C!==(C=t[7]+"#?file=gist.md"))&&l(I,"href",C),t[2]?bt&&(bt.d(1),bt=null):bt?bt.p(t,e):(bt=L(t),bt.c(),bt.m(P,null));const n={};8&e&&(n.content=t[3]),!N&&2&e&&(N=!0,n.el=t[1],T(()=>N=!1)),!O&&16&e&&(O=!0,n.onReset=t[4],T(()=>O=!1)),!F&&32&e&&(F=!0,n.onZoomIn=t[5],T(()=>F=!1)),!_&&64&e&&(_=!0,n.onZoomOut=t[6],T(()=>_=!1)),q.$set(n)},i(t){kt||(y(q.$$.fragment,t),kt=!0)},o(t){M(q.$$.fragment,t),kt=!1},d(n){n&&i(a),n&&i(e),n&&i(A),n&&i($),bt&&bt.d(),t[11](null),S(q),xt=!1,D(Et)}}}function q(t,a){const e=document.createElement("a");e.download=t,e.href=a,e.click()}function H(){"function"==typeof gtag&&gtag("event","click",{button:"newFeature"})}function N(t,a,e){let n,o,s,i,l,r,c,h,d="";async function f(){const t={};h=t;const a=new URLSearchParams(window.location.hash.slice(1)),n=await async function(t,a){t=t||"af76a4c245b302206b16aec503dbe07b",a=a||"markmap.md";const e=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await e.json()).files[a];if(!n)return;let{content:o}=n;if(n.truncated){const t=await fetch(n.raw_url);o=await t.text()}return o}(a.get("gist"),a.get("file"));null!=n&&t===h&&(s&&s.setValue(n),e(3,d=n))}function u(){s&&e(3,d=s.getValue())}return I(async()=>{const{origin:t,pathname:a}=window.location;e(7,c=t+a),f(),window.addEventListener("hashchange",f);const{default:o}=await import("./codemirror.fdc65555.js");e(2,s=o(n,{lineNumbers:!0,mode:"markdown",value:d})),s.on("change",R(u,500))}),V(async()=>{e(2,s=null)}),[n,o,s,d,i,l,r,c,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");q("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=P.transform(d),a=G.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});q("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){e(3,d=t.target.value)},function(t){j[t?"unshift":"push"](()=>{n=t,e(0,n)})},function(t){o=t,e(1,o)},function(t){i=t,e(4,i)},function(t){l=t,e(5,l)},function(t){r=t,e(6,r)}]}export default class extends t{constructor(t){super(),a(this,t,N,U,e,{})}}
