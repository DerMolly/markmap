import{S as t,i,s as o,e as n,a as e,t as a,g as s,h as r,b as h,j as c,d as l,k as f,l as d,n as u,y as w,F as v,J as m,o as p,K as g,L as k,M as E,N as x}from"./client.fc9c2eff.js";function B(t){let i,o,w,v,m,p;return{c(){i=n("div"),o=n("img"),v=e(),m=n("a"),p=a("markmap"),this.h()},l(t){i=s(t,"DIV",{});var n=r(i);o=s(n,"IMG",{class:!0,alt:!0,src:!0}),v=h(n),m=s(n,"A",{class:!0,href:!0});var e=r(m);p=c(e,"markmap"),e.forEach(l),n.forEach(l),this.h()},h(){f(o,"class","w-4 h-4"),f(o,"alt","markmap"),o.src!==(w="/favicon.png")&&f(o,"src","/favicon.png"),f(m,"class","inline-block text-xs no-underline pr-1"),f(m,"href","/")},m(t,n){d(t,i,n),u(i,o),u(i,v),u(i,m),u(m,p)},d(t){t&&l(i)}}}function M(t){let i,o,e,a,h;return{c(){i=n("div"),o=w("svg"),e=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=r(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);e=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(e).forEach(l),a.forEach(l),n.forEach(l),this.h()},h(){f(e,"fill","none"),f(e,"stroke-width","2"),f(e,"stroke","currentColor"),f(e,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),f(o,"width","20"),f(o,"height","20"),f(o,"viewBox","0 0 20 20"),f(i,"title","Full page view")},m(n,s){d(n,i,s),u(i,o),u(o,e),a||(h=v(o,"click",t[5]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function y(t){let i,o,e,a,h;return{c(){i=n("div"),o=w("svg"),e=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=r(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);e=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(e).forEach(l),a.forEach(l),n.forEach(l),this.h()},h(){f(e,"fill","none"),f(e,"stroke-width","2"),f(e,"stroke","currentColor"),f(e,"d","M5 6 v8 h10 v-8 h-10 z m5 0 v8"),f(o,"width","20"),f(o,"height","20"),f(o,"viewBox","0 0 20 20"),f(i,"title","Open in REPL")},m(n,s){d(n,i,s),u(i,o),u(o,e),a||(h=v(o,"click",t[6]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function I(t){let i,o,a,c,k,E,x,I,b,Z,P,D,F,V,R,j,C,L=t[0]&&B();function O(t,i){return t[1]?y:M}let $=O(t),z=$(t);return{c(){i=n("div"),L&&L.c(),o=e(),a=n("div"),c=w("svg"),k=w("path"),E=e(),x=n("div"),I=w("svg"),b=w("path"),Z=e(),P=n("div"),D=w("svg"),F=w("path"),V=e(),z.c(),this.h()},l(t){i=s(t,"DIV",{class:!0});var n=r(i);L&&L.l(n),o=h(n),a=s(n,"DIV",{title:!0});var e=r(a);c=s(e,"svg",{width:!0,height:!0,viewBox:!0},1);var f=r(c);k=s(f,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(k).forEach(l),f.forEach(l),e.forEach(l),E=h(n),x=s(n,"DIV",{title:!0});var d=r(x);I=s(d,"svg",{width:!0,height:!0,viewBox:!0},1);var u=r(I);b=s(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(b).forEach(l),u.forEach(l),d.forEach(l),Z=h(n),P=s(n,"DIV",{title:!0});var w=r(P);D=s(w,"svg",{width:!0,height:!0,viewBox:!0},1);var v=r(D);F=s(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(F).forEach(l),v.forEach(l),w.forEach(l),V=h(n),z.l(n),n.forEach(l),this.h()},h(){f(k,"fill","none"),f(k,"stroke-width","2"),f(k,"stroke","currentColor"),f(k,"d","M10 6 v8 M6 10 h8"),f(c,"width","20"),f(c,"height","20"),f(c,"viewBox","0 0 20 20"),f(a,"title","Zoom in"),f(b,"fill","none"),f(b,"stroke-width","2"),f(b,"stroke","currentColor"),f(b,"d","M6 10 h8"),f(I,"width","20"),f(I,"height","20"),f(I,"viewBox","0 0 20 20"),f(x,"title","Zoom out"),f(F,"fill","none"),f(F,"stroke-width","2"),f(F,"stroke","currentColor"),f(F,"d","M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),f(D,"width","20"),f(D,"height","20"),f(D,"viewBox","0 0 20 20"),f(P,"title","Fit window size"),f(i,"class",R="toolbar "+t[7].class)},m(n,e){d(n,i,e),L&&L.m(i,null),u(i,o),u(i,a),u(a,c),u(c,k),u(i,E),u(i,x),u(x,I),u(I,b),u(i,Z),u(i,P),u(P,D),u(D,F),u(i,V),z.m(i,null),j||(C=[v(c,"click",(function(){m(t[2])&&t[2].apply(this,arguments)})),v(I,"click",(function(){m(t[3])&&t[3].apply(this,arguments)})),v(D,"click",(function(){m(t[4])&&t[4].apply(this,arguments)}))],j=!0)},p(n,[e]){(t=n)[0]?L||(L=B(),L.c(),L.m(i,o)):L&&(L.d(1),L=null),$===($=O(t))&&z?z.p(t,e):(z.d(1),z=$(t),z&&(z.c(),z.m(i,null))),128&e&&R!==(R="toolbar "+t[7].class)&&f(i,"class",R)},i:p,o:p,d(t){t&&l(i),L&&L.d(),z.d(),j=!1,g(C)}}}function b(t,i,o){let{showBrand:n=!1}=i,{isFull:e=!1}=i,{onZoomIn:a}=i,{onZoomOut:s}=i,{onReset:r}=i;return t.$$set=t=>{o(7,i=k(k({},i),E(t))),"showBrand"in t&&o(0,n=t.showBrand),"isFull"in t&&o(1,e=t.isFull),"onZoomIn"in t&&o(2,a=t.onZoomIn),"onZoomOut"in t&&o(3,s=t.onZoomOut),"onReset"in t&&o(4,r=t.onReset)},i=E(i),[n,e,a,s,r,function(){x("/full"+window.location.hash)},function(){x("/repl"+window.location.hash)},i]}class Z extends t{constructor(t){super(),i(this,t,b,I,o,{showBrand:0,isFull:1,onZoomIn:2,onZoomOut:3,onReset:4})}}const P=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];function D(){}async function F(t){const[,i,o,n]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!o)return;const e=n||"markmap.md";return"gitee"===i?async function(t,i){const o=await fetch("https://gitee.com/api/v5/gists/"+t),n=(await o.json()).files[i];if(!n)return;let{content:e}=n;if(n.truncated){const t=await fetch(n.raw_url);e=await t.text()}return e}(o,e):async function(t,i){const o=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await o.json()).files[i];if(!n)return;let{content:e}=n;if(n.truncated){const t=await fetch(n.raw_url);e=await t.text()}return e}(o,e)}function V(t){let i;return async function(){const o={};i=o;let n=new URLSearchParams(window.location.hash.slice(1)).get("gist");n=n&&n.split(",");const e=await async function(t){return Promise.any(t.map(F))}(n||P);null!=e&&o===i&&t(e)}}function R(t){const i=V(t);return window.addEventListener("hashchange",i),i(t),()=>window.removeEventListener("hashchange",i)}Promise.any||(Promise.any=t=>new Promise(((i,o)=>{Promise.all(t.map((t=>Promise.resolve(t).then(i,D)))).then(o)})));export{Z as T,R as s};
