import{S as t,i as o,s as i,e as a,a as s,t as e,f as h,g as n,b as r,h as l,d as c,k as d,l as v,m as f,v as w,A as u,G as p,o as m,D as g,H as k,I as E,J as x}from"./client.246a3acc.js";function B(t){let o,i,w,u,p,m;return{c(){o=a("div"),i=a("img"),u=s(),p=a("a"),m=e("markmap"),this.h()},l(t){o=h(t,"DIV",{});var a=n(o);i=h(a,"IMG",{class:!0,alt:!0,src:!0}),u=r(a),p=h(a,"A",{class:!0,href:!0});var s=n(p);m=l(s,"markmap"),s.forEach(c),a.forEach(c),this.h()},h(){d(i,"class","w-4 h-4"),d(i,"alt","markmap"),i.src!==(w="/favicon.png")&&d(i,"src","/favicon.png"),d(p,"class","inline-block text-xs no-underline pr-1"),d(p,"href","/")},m(t,a){v(t,o,a),f(o,i),f(o,u),f(o,p),f(p,m)},d(t){t&&c(o)}}}function I(t){let o,i,s,e,r;return{c(){o=a("div"),i=w("svg"),s=w("path"),this.h()},l(t){o=h(t,"DIV",{title:!0});var a=n(o);i=h(a,"svg",{width:!0,height:!0,viewBox:!0},1);var e=n(i);s=h(e,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),n(s).forEach(c),e.forEach(c),a.forEach(c),this.h()},h(){d(s,"fill","none"),d(s,"stroke-width","2"),d(s,"stroke","currentColor"),d(s,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),d(i,"width","20"),d(i,"height","20"),d(i,"viewBox","0 0 20 20"),d(o,"title","Full page view")},m(a,h){v(a,o,h),f(o,i),f(i,s),e||(r=u(i,"click",t[5]),e=!0)},p:m,d(t){t&&c(o),e=!1,r()}}}function M(t){let o,i,s,e,r;return{c(){o=a("div"),i=w("svg"),s=w("path"),this.h()},l(t){o=h(t,"DIV",{title:!0});var a=n(o);i=h(a,"svg",{width:!0,height:!0,viewBox:!0},1);var e=n(i);s=h(e,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),n(s).forEach(c),e.forEach(c),a.forEach(c),this.h()},h(){d(s,"fill","none"),d(s,"stroke-width","2"),d(s,"stroke","currentColor"),d(s,"d","M5 6 v8 h10 v-8 h-10 z m5 0 v8"),d(i,"width","20"),d(i,"height","20"),d(i,"viewBox","0 0 20 20"),d(o,"title","Open in REPL")},m(a,h){v(a,o,h),f(o,i),f(i,s),e||(r=u(i,"click",t[6]),e=!0)},p:m,d(t){t&&c(o),e=!1,r()}}}function b(t){let o,i,e,l,k,E,x,b,Z,D,V,F,R,y,C,O,L,j=t[0]&&B();function A(t,o){return t[1]?M:I}let z=A(t),G=z(t);return{c(){o=a("div"),j&&j.c(),i=s(),e=a("div"),l=w("svg"),k=w("path"),E=s(),x=a("div"),b=w("svg"),Z=w("path"),D=s(),V=a("div"),F=w("svg"),R=w("path"),y=s(),G.c(),this.h()},l(t){o=h(t,"DIV",{class:!0});var a=n(o);j&&j.l(a),i=r(a),e=h(a,"DIV",{title:!0});var s=n(e);l=h(s,"svg",{width:!0,height:!0,viewBox:!0},1);var d=n(l);k=h(d,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),n(k).forEach(c),d.forEach(c),s.forEach(c),E=r(a),x=h(a,"DIV",{title:!0});var v=n(x);b=h(v,"svg",{width:!0,height:!0,viewBox:!0},1);var f=n(b);Z=h(f,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),n(Z).forEach(c),f.forEach(c),v.forEach(c),D=r(a),V=h(a,"DIV",{title:!0});var w=n(V);F=h(w,"svg",{width:!0,height:!0,viewBox:!0},1);var u=n(F);R=h(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),n(R).forEach(c),u.forEach(c),w.forEach(c),y=r(a),G.l(a),a.forEach(c),this.h()},h(){d(k,"fill","none"),d(k,"stroke-width","2"),d(k,"stroke","currentColor"),d(k,"d","M10 6 v8 M6 10 h8"),d(l,"width","20"),d(l,"height","20"),d(l,"viewBox","0 0 20 20"),d(e,"title","Zoom in"),d(Z,"fill","none"),d(Z,"stroke-width","2"),d(Z,"stroke","currentColor"),d(Z,"d","M6 10 h8"),d(b,"width","20"),d(b,"height","20"),d(b,"viewBox","0 0 20 20"),d(x,"title","Zoom out"),d(R,"fill","none"),d(R,"stroke-width","2"),d(R,"stroke","currentColor"),d(R,"d","M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),d(F,"width","20"),d(F,"height","20"),d(F,"viewBox","0 0 20 20"),d(V,"title","Fit window size"),d(o,"class",C="toolbar "+t[7].class)},m(a,s){v(a,o,s),j&&j.m(o,null),f(o,i),f(o,e),f(e,l),f(l,k),f(o,E),f(o,x),f(x,b),f(b,Z),f(o,D),f(o,V),f(V,F),f(F,R),f(o,y),G.m(o,null),O||(L=[u(l,"click",(function(){p(t[2])&&t[2].apply(this,arguments)})),u(b,"click",(function(){p(t[3])&&t[3].apply(this,arguments)})),u(F,"click",(function(){p(t[4])&&t[4].apply(this,arguments)}))],O=!0)},p(a,[s]){(t=a)[0]?j||(j=B(),j.c(),j.m(o,i)):j&&(j.d(1),j=null),z===(z=A(t))&&G?G.p(t,s):(G.d(1),G=z(t),G&&(G.c(),G.m(o,null))),128&s&&C!==(C="toolbar "+t[7].class)&&d(o,"class",C)},i:m,o:m,d(t){t&&c(o),j&&j.d(),G.d(),O=!1,g(L)}}}function Z(t,o,i){let{showBrand:a=!1}=o,{isFull:s=!1}=o,{onZoomIn:e}=o,{onZoomOut:h}=o,{onReset:n}=o;return t.$$set=t=>{i(7,o=k(k({},o),E(t))),"showBrand"in t&&i(0,a=t.showBrand),"isFull"in t&&i(1,s=t.isFull),"onZoomIn"in t&&i(2,e=t.onZoomIn),"onZoomOut"in t&&i(3,h=t.onZoomOut),"onReset"in t&&i(4,n=t.onReset)},o=E(o),[a,s,e,h,n,function(){x("/full"+window.location.hash)},function(){x("/repl"+window.location.hash)},o]}class D extends t{constructor(t){super(),o(this,t,Z,b,i,{showBrand:0,isFull:1,onZoomIn:2,onZoomOut:3,onReset:4})}}function V(t){let o;return async function(){const i={};o=i;const a=new URLSearchParams(window.location.hash.slice(1)),s=await async function(t,o){t=t||"af76a4c245b302206b16aec503dbe07b",o=o||"markmap.md";const i=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),a=(await i.json()).files[o];if(!a)return;let{content:s}=a;if(a.truncated){const t=await fetch(a.raw_url);s=await t.text()}return s}(a.get("gist"),a.get("file"));null!=s&&i===o&&t(s)}}function F(t){const o=V(t);return window.addEventListener("hashchange",o),o(t),()=>window.removeEventListener("hashchange",o)}export{D as T,F as s};
