import{S as t,i,s as o,e,a as n,t as a,f as s,g as r,b as h,h as c,d as l,k as d,l as f,m as u,v as w,A as v,G as m,o as p,D as g,H as k,I as E,J as x}from"./client.14e7e03f.js";function B(t){let i,o,w,v,m,p;return{c(){i=e("div"),o=e("img"),v=n(),m=e("a"),p=a("markmap"),this.h()},l(t){i=s(t,"DIV",{});var e=r(i);o=s(e,"IMG",{class:!0,alt:!0,src:!0}),v=h(e),m=s(e,"A",{class:!0,href:!0});var n=r(m);p=c(n,"markmap"),n.forEach(l),e.forEach(l),this.h()},h(){d(o,"class","w-4 h-4"),d(o,"alt","markmap"),o.src!==(w="/favicon.png")&&d(o,"src","/favicon.png"),d(m,"class","inline-block text-xs no-underline pr-1"),d(m,"href","/")},m(t,e){f(t,i,e),u(i,o),u(i,v),u(i,m),u(m,p)},d(t){t&&l(i)}}}function I(t){let i,o,n,a,h;return{c(){i=e("div"),o=w("svg"),n=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var e=r(i);o=s(e,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);n=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(n).forEach(l),a.forEach(l),e.forEach(l),this.h()},h(){d(n,"fill","none"),d(n,"stroke-width","2"),d(n,"stroke","currentColor"),d(n,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Full page view")},m(e,s){f(e,i,s),u(i,o),u(o,n),a||(h=v(o,"click",t[5]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function M(t){let i,o,n,a,h;return{c(){i=e("div"),o=w("svg"),n=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var e=r(i);o=s(e,"svg",{width:!0,height:!0,viewBox:!0},1);var a=r(o);n=s(a,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(n).forEach(l),a.forEach(l),e.forEach(l),this.h()},h(){d(n,"fill","none"),d(n,"stroke-width","2"),d(n,"stroke","currentColor"),d(n,"d","M5 6 v8 h10 v-8 h-10 z m5 0 v8"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Open in REPL")},m(e,s){f(e,i,s),u(i,o),u(o,n),a||(h=v(o,"click",t[6]),a=!0)},p:p,d(t){t&&l(i),a=!1,h()}}}function y(t){let i,o,a,c,k,E,x,y,b,Z,D,P,V,F,R,C,O,j=t[0]&&B();function L(t,i){return t[1]?M:I}let A=L(t),$=A(t);return{c(){i=e("div"),j&&j.c(),o=n(),a=e("div"),c=w("svg"),k=w("path"),E=n(),x=e("div"),y=w("svg"),b=w("path"),Z=n(),D=e("div"),P=w("svg"),V=w("path"),F=n(),$.c(),this.h()},l(t){i=s(t,"DIV",{class:!0});var e=r(i);j&&j.l(e),o=h(e),a=s(e,"DIV",{title:!0});var n=r(a);c=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var d=r(c);k=s(d,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(k).forEach(l),d.forEach(l),n.forEach(l),E=h(e),x=s(e,"DIV",{title:!0});var f=r(x);y=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var u=r(y);b=s(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(b).forEach(l),u.forEach(l),f.forEach(l),Z=h(e),D=s(e,"DIV",{title:!0});var w=r(D);P=s(w,"svg",{width:!0,height:!0,viewBox:!0},1);var v=r(P);V=s(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),r(V).forEach(l),v.forEach(l),w.forEach(l),F=h(e),$.l(e),e.forEach(l),this.h()},h(){d(k,"fill","none"),d(k,"stroke-width","2"),d(k,"stroke","currentColor"),d(k,"d","M10 6 v8 M6 10 h8"),d(c,"width","20"),d(c,"height","20"),d(c,"viewBox","0 0 20 20"),d(a,"title","Zoom in"),d(b,"fill","none"),d(b,"stroke-width","2"),d(b,"stroke","currentColor"),d(b,"d","M6 10 h8"),d(y,"width","20"),d(y,"height","20"),d(y,"viewBox","0 0 20 20"),d(x,"title","Zoom out"),d(V,"fill","none"),d(V,"stroke-width","2"),d(V,"stroke","currentColor"),d(V,"d","M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),d(P,"width","20"),d(P,"height","20"),d(P,"viewBox","0 0 20 20"),d(D,"title","Fit window size"),d(i,"class",R="toolbar "+t[7].class)},m(e,n){f(e,i,n),j&&j.m(i,null),u(i,o),u(i,a),u(a,c),u(c,k),u(i,E),u(i,x),u(x,y),u(y,b),u(i,Z),u(i,D),u(D,P),u(P,V),u(i,F),$.m(i,null),C||(O=[v(c,"click",(function(){m(t[2])&&t[2].apply(this,arguments)})),v(y,"click",(function(){m(t[3])&&t[3].apply(this,arguments)})),v(P,"click",(function(){m(t[4])&&t[4].apply(this,arguments)}))],C=!0)},p(e,[n]){(t=e)[0]?j||(j=B(),j.c(),j.m(i,o)):j&&(j.d(1),j=null),A===(A=L(t))&&$?$.p(t,n):($.d(1),$=A(t),$&&($.c(),$.m(i,null))),128&n&&R!==(R="toolbar "+t[7].class)&&d(i,"class",R)},i:p,o:p,d(t){t&&l(i),j&&j.d(),$.d(),C=!1,g(O)}}}function b(t,i,o){let{showBrand:e=!1}=i,{isFull:n=!1}=i,{onZoomIn:a}=i,{onZoomOut:s}=i,{onReset:r}=i;return t.$$set=t=>{o(7,i=k(k({},i),E(t))),"showBrand"in t&&o(0,e=t.showBrand),"isFull"in t&&o(1,n=t.isFull),"onZoomIn"in t&&o(2,a=t.onZoomIn),"onZoomOut"in t&&o(3,s=t.onZoomOut),"onReset"in t&&o(4,r=t.onReset)},i=E(i),[e,n,a,s,r,function(){x("/full"+window.location.hash)},function(){x("/repl"+window.location.hash)},i]}class Z extends t{constructor(t){super(),i(this,t,b,y,o,{showBrand:0,isFull:1,onZoomIn:2,onZoomOut:3,onReset:4})}}const D=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];function P(){}async function V(t){const[,i,o,e]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!o)return;const n=e||"markmap.md";return"gitee"===i?async function(t,i){const o=await fetch("https://gitee.com/api/v5/gists/"+t),e=(await o.json()).files[i];if(!e)return;let{content:n}=e;if(e.truncated){const t=await fetch(e.raw_url);n=await t.text()}return n}(o,n):async function(t,i){const o=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),e=(await o.json()).files[i];if(!e)return;let{content:n}=e;if(e.truncated){const t=await fetch(e.raw_url);n=await t.text()}return n}(o,n)}function F(t){let i;return async function(){const o={};i=o;let e=new URLSearchParams(window.location.hash.slice(1)).get("gist");e=e&&e.split(",");const n=await async function(t){return Promise.any(t.map(V))}(e||D);null!=n&&o===i&&t(n)}}function R(t){const i=F(t);return window.addEventListener("hashchange",i),i(t),()=>window.removeEventListener("hashchange",i)}Promise.any||(Promise.any=t=>new Promise((i,o)=>{Promise.all(t.map(t=>Promise.resolve(t).then(i,P))).then(o)}));export{Z as T,R as s};
