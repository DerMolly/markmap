import{S as t,i as a,s as n,a as e,e as o,c as s,v as r,t as i,q as l,d as c,b as h,f as m,g as d,j as p,h as f,k as u,l as v,m as w,n as k,A as g,E as x,C as b,p as y,r as E,u as M,D as S,w as D,x as C,F as I,y as V,G as j,H as J}from"./client.35c2909f.js";import{c as $,u as T,M as B,t as P,a as R}from"./markmap.9bf1a03f.js";var Z=$((function(t,a){a.__esModule=!0,a.fillTemplate=function(t,a){const e=[...(0,T.persistJS)(n),...(0,T.persistJS)([{type:"iife",data:{fn:(t,a,n,e)=>{const{Markmap:o,loadPlugins:s}=window.markmap;(a?a(s,n,e):Promise.resolve()).then(()=>{window.mm=o.create("svg#mindmap",null,t)})},getParams:({data:t,opts:a})=>{const n=[(null==a?void 0:a.mathJax)&&"mathJax",(null==a?void 0:a.prism)&&"prism"].filter(Boolean),e=[t];return n.length&&e.push((t,a,n)=>t(a,n),n,a),e}}}],{data:t,opts:a})];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e","").replace("\x3c!--JS--\x3e",()=>e.join(""))};const n=["https://cdn.jsdelivr.net/npm/d3@5","https://cdn.jsdelivr.net/npm/markmap-lib@0.7.12/dist/browser/view.min.js"].map(t=>({type:"script",data:{src:t}}))}));const{document:q}=I;function A(t){let a,n,D,C,I,$,T,P,R,Z,A,G,H,L,U,O,F,N,_,X,Y,z,K,Q,W,tt,at,nt,et,ot,st,rt,it,lt,ct,ht,mt,dt,pt;function ft(a){t[9].call(null,a)}function ut(a){t[10].call(null,a)}function vt(a){t[11].call(null,a)}function wt(a){t[12].call(null,a)}let kt={content:t[2]};return void 0!==t[1]&&(kt.el=t[1]),void 0!==t[3]&&(kt.onReset=t[3]),void 0!==t[4]&&(kt.onZoomIn=t[4]),void 0!==t[5]&&(kt.onZoomOut=t[5]),T=new B({props:kt}),V.push(()=>j(T,"el",ft)),V.push(()=>j(T,"onReset",ut)),V.push(()=>j(T,"onZoomIn",vt)),V.push(()=>j(T,"onZoomOut",wt)),{c(){a=e(),n=o("div"),D=o("div"),C=e(),I=o("div"),$=o("div"),s(T.$$.fragment),G=e(),H=o("div"),L=r("svg"),U=r("circle"),O=r("path"),F=e(),N=r("svg"),_=r("circle"),X=r("path"),Y=e(),z=r("svg"),K=r("circle"),Q=r("path"),W=e(),tt=o("div"),at=o("div"),nt=o("a"),et=i("Download as interactive HTML"),ot=e(),st=o("div"),rt=o("a"),it=i("Download as SVG"),lt=e(),ct=o("span"),ht=i("⚠️"),this.h()},l(t){l('[data-svelte="svelte-r18bnt"]',q.head).forEach(c),a=h(t),n=m(t,"DIV",{class:!0});var e=d(n);D=m(e,"DIV",{class:!0}),d(D).forEach(c),C=h(e),I=m(e,"DIV",{class:!0});var o=d(I);$=m(o,"DIV",{class:!0});var s=d($);p(T.$$.fragment,s),G=h(s),H=m(s,"DIV",{class:!0});var r=d(H);L=m(r,"svg",{width:!0,height:!0,viewBox:!0},1);var i=d(L);U=m(i,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),d(U).forEach(c),O=m(i,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),d(O).forEach(c),i.forEach(c),F=h(r),N=m(r,"svg",{width:!0,height:!0,viewBox:!0},1);var u=d(N);_=m(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),d(_).forEach(c),X=m(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),d(X).forEach(c),u.forEach(c),Y=h(r),z=m(r,"svg",{width:!0,height:!0,viewBox:!0},1);var v=d(z);K=m(v,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0},1),d(K).forEach(c),Q=m(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),d(Q).forEach(c),v.forEach(c),r.forEach(c),s.forEach(c),W=h(o),tt=m(o,"DIV",{});var w=d(tt);at=m(w,"DIV",{class:!0});var k=d(at);nt=m(k,"A",{});var g=d(nt);et=f(g,"Download as interactive HTML"),g.forEach(c),k.forEach(c),ot=h(w),st=m(w,"DIV",{class:!0,title:!0});var x=d(st);rt=m(x,"A",{});var b=d(rt);it=f(b,"Download as SVG"),b.forEach(c),lt=h(x),ct=m(x,"SPAN",{class:!0});var y=d(ct);ht=f(y,"⚠️"),y.forEach(c),x.forEach(c),w.forEach(c),o.forEach(c),e.forEach(c),this.h()},h(){q.title="Try Markmap",u(D,"class","flex-1 min-w-0 border border-gray-300"),u(U,"cx","10"),u(U,"cy","10"),u(U,"r","9"),u(U,"fill","none"),u(U,"stroke-width","0.5"),u(U,"stroke","currentColor"),u(O,"fill","none"),u(O,"stroke-width","1"),u(O,"stroke","currentColor"),u(O,"d","M10 6 v8 M6 10 h8"),u(L,"width","20"),u(L,"height","20"),u(L,"viewBox","0 0 20 20"),u(_,"cx","10"),u(_,"cy","10"),u(_,"r","9"),u(_,"fill","none"),u(_,"stroke-width","0.5"),u(_,"stroke","currentColor"),u(X,"fill","none"),u(X,"stroke-width","1"),u(X,"stroke","currentColor"),u(X,"d","M6 10 h8"),u(N,"width","20"),u(N,"height","20"),u(N,"viewBox","0 0 20 20"),u(K,"cx","10"),u(K,"cy","10"),u(K,"r","9"),u(K,"fill","none"),u(K,"stroke-width","0.5"),u(K,"stroke","currentColor"),u(Q,"fill","none"),u(Q,"stroke-width","1"),u(Q,"stroke","currentColor"),u(Q,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),u(z,"width","20"),u(z,"height","20"),u(z,"viewBox","0 0 20 20"),u(H,"class","buttons absolute right-0 bottom-0 mr-2 mb-2"),u($,"class","markmap-wrapper flex-1"),u(at,"class","inline-block px-4 py-2"),u(ct,"class","text-red-500"),u(st,"class","inline-block px-4 py-2"),u(st,"title","SVG does not work well with PrismJS and MathJax"),u(I,"class","flex-1 min-w-0 flex flex-col"),u(n,"class","repl")},m(e,o){v(e,a,o),v(e,n,o),w(n,D),t[8](D),w(n,C),w(n,I),w(I,$),k(T,$,null),w($,G),w($,H),w(H,L),w(L,U),w(L,O),w(H,F),w(H,N),w(N,_),w(N,X),w(H,Y),w(H,z),w(z,K),w(z,Q),w(I,W),w(I,tt),w(tt,at),w(at,nt),w(nt,et),w(tt,ot),w(tt,st),w(st,rt),w(rt,it),w(st,lt),w(st,ct),w(ct,ht),mt=!0,dt||(pt=[g(L,"click",(function(){x(t[4])&&t[4].apply(this,arguments)})),g(N,"click",(function(){x(t[5])&&t[5].apply(this,arguments)})),g(z,"click",(function(){x(t[3])&&t[3].apply(this,arguments)})),g(nt,"click",b(t[7])),g(rt,"click",b(t[6]))],dt=!0)},p(a,[n]){t=a;const e={};4&n&&(e.content=t[2]),!P&&2&n&&(P=!0,e.el=t[1],J(()=>P=!1)),!R&&8&n&&(R=!0,e.onReset=t[3],J(()=>R=!1)),!Z&&16&n&&(Z=!0,e.onZoomIn=t[4],J(()=>Z=!1)),!A&&32&n&&(A=!0,e.onZoomOut=t[5],J(()=>A=!1)),T.$set(e)},i(t){mt||(y(T.$$.fragment,t),mt=!0)},o(t){E(T.$$.fragment,t),mt=!1},d(e){e&&c(a),e&&c(n),t[8](null),M(T),dt=!1,S(pt)}}}function G(t,a){const n=document.createElement("a");n.download=t,n.href=a,n.click()}function H(t,a,n){let e,o,s,r,i,l,c;function h(){s&&n(2,r=s.getValue())}return D(async()=>{const{default:t}=await import("./codemirror.d39da4be.js").then((function(t){return t.c}));await import("./markdown.e2be71a0.js").then((function(t){return t.m})),s=t(e,{lineNumbers:!0,mode:"markdown",value:"# markmap-lib\n\n## Links\n\n- <https://markmap.js.org/>\n- [GitHub](https://github.com/gera2ld/markmap-lib)\n\n## Related\n\n- [coc-markmap](https://github.com/gera2ld/coc-markmap)\n- [gatsby-remark-markmap](https://github.com/gera2ld/gatsby-remark-markmap)\n\n## Features\n\n- links\n- **inline** ~~text~~ *styles*\n- multiline\n  text\n- `inline code`\n-\n    ```js\n    console.log('code block');\n    ```\n- MathJax - `\\(x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\\)`\n"}),s.on("change",R(h,500)),h(),async function(){const t=new URLSearchParams(window.location.hash.slice(1)).get("k");if(t){window.location.hash="";const a=await fetch("https://hs.gerald.win/mm/"+t),{data:n}=await a.json();s&&(s.setValue(n),h())}}()}),C(async()=>{s=null}),[e,o,r,i,l,c,function(){const t=o.outerHTML.replace(/<br>/g,"<br/>");G("markmap.svg","data:image/svg;utf8,"+encodeURIComponent(t))},function(){const t=P.transform(r||""),a=Z.fillTemplate(t,{mathJax:!!o.querySelector(".MathJax"),prism:!!o.querySelector("pre[class*=language-]")});G("markmap.html","data:text/html;utf8,"+encodeURIComponent(a))},function(t){V[t?"unshift":"push"](()=>{e=t,n(0,e)})},function(t){o=t,n(1,o)},function(t){i=t,n(3,i)},function(t){l=t,n(4,l)},function(t){c=t,n(5,c)}]}export default class extends t{constructor(t){super(),a(this,t,H,A,n,{})}}
