import{S as t,i,s as o,e as n,a,t as e,f as s,g as h,b as r,h as c,d as l,k as d,l as f,m as u,v as w,A as v,G as p,o as m,D as g,H as k,I as E,J as x}from"./client.c2ea3cce.js";function B(t){let i,o,w,v,p,m;return{c(){i=n("div"),o=n("img"),v=a(),p=n("a"),m=e("markmap"),this.h()},l(t){i=s(t,"DIV",{});var n=h(i);o=s(n,"IMG",{class:!0,alt:!0,src:!0}),v=r(n),p=s(n,"A",{class:!0,href:!0});var a=h(p);m=c(a,"markmap"),a.forEach(l),n.forEach(l),this.h()},h(){d(o,"class","w-4 h-4"),d(o,"alt","markmap"),o.src!==(w="/favicon.png")&&d(o,"src","/favicon.png"),d(p,"class","inline-block text-xs no-underline pr-1"),d(p,"href","/")},m(t,n){f(t,i,n),u(i,o),u(i,v),u(i,p),u(p,m)},d(t){t&&l(i)}}}function I(t){let i,o,a,e,r;return{c(){i=n("div"),o=w("svg"),a=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=h(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var e=h(o);a=s(e,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),h(a).forEach(l),e.forEach(l),n.forEach(l),this.h()},h(){d(a,"fill","none"),d(a,"stroke-width","2"),d(a,"stroke","currentColor"),d(a,"d","M5 9 v-3 h3 M5 11 v3 h3 M15 9 v-3 h-3 M15 11 v3 h-3"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Full page view")},m(n,s){f(n,i,s),u(i,o),u(o,a),e||(r=v(o,"click",t[5]),e=!0)},p:m,d(t){t&&l(i),e=!1,r()}}}function M(t){let i,o,a,e,r;return{c(){i=n("div"),o=w("svg"),a=w("path"),this.h()},l(t){i=s(t,"DIV",{title:!0});var n=h(i);o=s(n,"svg",{width:!0,height:!0,viewBox:!0},1);var e=h(o);a=s(e,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),h(a).forEach(l),e.forEach(l),n.forEach(l),this.h()},h(){d(a,"fill","none"),d(a,"stroke-width","2"),d(a,"stroke","currentColor"),d(a,"d","M5 6 v8 h10 v-8 h-10 z m5 0 v8"),d(o,"width","20"),d(o,"height","20"),d(o,"viewBox","0 0 20 20"),d(i,"title","Open in REPL")},m(n,s){f(n,i,s),u(i,o),u(o,a),e||(r=v(o,"click",t[6]),e=!0)},p:m,d(t){t&&l(i),e=!1,r()}}}function b(t){let i,o,e,c,k,E,x,b,y,Z,D,V,F,R,C,O,j,L=t[0]&&B();function A(t,i){return t[1]?M:I}let P=A(t),$=P(t);return{c(){i=n("div"),L&&L.c(),o=a(),e=n("div"),c=w("svg"),k=w("path"),E=a(),x=n("div"),b=w("svg"),y=w("path"),Z=a(),D=n("div"),V=w("svg"),F=w("path"),R=a(),$.c(),this.h()},l(t){i=s(t,"DIV",{class:!0});var n=h(i);L&&L.l(n),o=r(n),e=s(n,"DIV",{title:!0});var a=h(e);c=s(a,"svg",{width:!0,height:!0,viewBox:!0},1);var d=h(c);k=s(d,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),h(k).forEach(l),d.forEach(l),a.forEach(l),E=r(n),x=s(n,"DIV",{title:!0});var f=h(x);b=s(f,"svg",{width:!0,height:!0,viewBox:!0},1);var u=h(b);y=s(u,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),h(y).forEach(l),u.forEach(l),f.forEach(l),Z=r(n),D=s(n,"DIV",{title:!0});var w=h(D);V=s(w,"svg",{width:!0,height:!0,viewBox:!0},1);var v=h(V);F=s(v,"path",{fill:!0,"stroke-width":!0,stroke:!0,d:!0},1),h(F).forEach(l),v.forEach(l),w.forEach(l),R=r(n),$.l(n),n.forEach(l),this.h()},h(){d(k,"fill","none"),d(k,"stroke-width","2"),d(k,"stroke","currentColor"),d(k,"d","M10 6 v8 M6 10 h8"),d(c,"width","20"),d(c,"height","20"),d(c,"viewBox","0 0 20 20"),d(e,"title","Zoom in"),d(y,"fill","none"),d(y,"stroke-width","2"),d(y,"stroke","currentColor"),d(y,"d","M6 10 h8"),d(b,"width","20"),d(b,"height","20"),d(b,"viewBox","0 0 20 20"),d(x,"title","Zoom out"),d(F,"fill","none"),d(F,"stroke-width","2"),d(F,"stroke","currentColor"),d(F,"d","M4 8 h3 v-3 M4 12 h3 v3 M16 8 h-3 v-3 M16 12 h-3 v3"),d(V,"width","20"),d(V,"height","20"),d(V,"viewBox","0 0 20 20"),d(D,"title","Fit window size"),d(i,"class",C="toolbar "+t[7].class)},m(n,a){f(n,i,a),L&&L.m(i,null),u(i,o),u(i,e),u(e,c),u(c,k),u(i,E),u(i,x),u(x,b),u(b,y),u(i,Z),u(i,D),u(D,V),u(V,F),u(i,R),$.m(i,null),O||(j=[v(c,"click",(function(){p(t[2])&&t[2].apply(this,arguments)})),v(b,"click",(function(){p(t[3])&&t[3].apply(this,arguments)})),v(V,"click",(function(){p(t[4])&&t[4].apply(this,arguments)}))],O=!0)},p(n,[a]){(t=n)[0]?L||(L=B(),L.c(),L.m(i,o)):L&&(L.d(1),L=null),P===(P=A(t))&&$?$.p(t,a):($.d(1),$=P(t),$&&($.c(),$.m(i,null))),128&a&&C!==(C="toolbar "+t[7].class)&&d(i,"class",C)},i:m,o:m,d(t){t&&l(i),L&&L.d(),$.d(),O=!1,g(j)}}}function y(t,i,o){let{showBrand:n=!1}=i,{isFull:a=!1}=i,{onZoomIn:e}=i,{onZoomOut:s}=i,{onReset:h}=i;return t.$$set=t=>{o(7,i=k(k({},i),E(t))),"showBrand"in t&&o(0,n=t.showBrand),"isFull"in t&&o(1,a=t.isFull),"onZoomIn"in t&&o(2,e=t.onZoomIn),"onZoomOut"in t&&o(3,s=t.onZoomOut),"onReset"in t&&o(4,h=t.onReset)},i=E(i),[n,a,e,s,h,function(){x("/full"+window.location.hash)},function(){x("/repl"+window.location.hash)},i]}class Z extends t{constructor(t){super(),i(this,t,y,b,o,{showBrand:0,isFull:1,onZoomIn:2,onZoomOut:3,onReset:4})}}const D=["af76a4c245b302206b16aec503dbe07b","gitee:a73wgucr28dhlxp91kytm57"];async function V(t){const[,i,o,n]=t.match(/^(?:(\w+):)?(\w+)(?:\/(.*))?$|/);if(!o)return;const a=n||"markmap.md";return"gitee"===i?async function(t,i){const o=await fetch("https://gitee.com/api/v5/gists/"+t),n=(await o.json()).files[i];if(!n)return;let{content:a}=n;if(n.truncated){const t=await fetch(n.raw_url);a=await t.text()}return a}(o,a):async function(t,i){const o=await fetch("https://api.github.com/gists/"+t,{headers:{Accept:"application/vnd.github.v3+json"}}),n=(await o.json()).files[i];if(!n)return;let{content:a}=n;if(n.truncated){const t=await fetch(n.raw_url);a=await t.text()}return a}(o,a)}function F(t){let i;return async function(){const o={};i=o;let n=new URLSearchParams(window.location.hash.slice(1)).get("gist");n=n&&n.split(",");const a=await async function(t){return Promise.any(t.map(V))}(n||D);null!=a&&o===i&&t(a)}}function R(t){const i=F(t);return window.addEventListener("hashchange",i),i(t),()=>window.removeEventListener("hashchange",i)}export{Z as T,R as s};
